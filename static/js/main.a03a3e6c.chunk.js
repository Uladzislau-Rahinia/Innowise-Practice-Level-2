(this["webpackJsonpinnowise-practice-level-2"]=this["webpackJsonpinnowise-practice-level-2"]||[]).push([[0],{63:function(e,n,t){"use strict";t.r(n);var r,a,c,i,o,s,u,l,A,d,b,p,f,j,h,g,O,x,w,m,v,C,E=t(2),I=t.n(E),B=t(32),R=t.n(B),S=t(19),k=t(24),y=t(26),P=t(27),T=t(5),M=t.n(T),D=t(12),Y=t(49),U=Object({NODE_ENV:"production",PUBLIC_URL:"/Innowise-Practice-Level-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_ID:"1:5717546368:web:99ac8e7d671e464fce5d65",REACT_APP_AUTH_DOMAIN:"innowise-practice-level-2.firebaseapp.com",REACT_APP_DATABASE_URL:"https://innowise-practice-level-2-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_API_KEY:"AIzaSyD7Rwe9RDZoMK1n_JP8f-_ZhInMlJtDmCk",REACT_APP_MESSAGING_SENDER_ID:"5717546368",REACT_APP_PROJECT_ID:"innowise-practice-level-2",REACT_APP_STORAGE_BUCKET:"innowise-practice-level-2.appspot.com"}),L=U.REACT_APP_FIREBASE_API_KEY,N=U.REACT_APP_AUTH_DOMAIN,G=U.REACT_APP_DATABASE_URL,F={apiKey:L,authDomain:N,projectId:U.REACT_APP_PROJECT_ID,storageBucket:U.REACT_APP_STORAGE_BUCKET,messagingSenderId:U.REACT_APP_MESSAGING_SENDER_ID,appId:U.REACT_APP_APP_ID,databaseURL:G},Q=Y.a.initializeApp(F),H=Q.database(),X=Q.auth(),K=Q.storage(),z=function(){var e=Object(D.a)(M.a.mark((function e(n,t){var r,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H.ref("users/".concat(n)),(a={username:""}).username=t,e.abrupt("return",r.update(a).then((function(){return!0})));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),_=function(){var e=Object(D.a)(M.a.mark((function e(n){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H.ref(n),e.abrupt("return",t.get().then((function(e){if(console.log(e),e.exists())return e.val();throw"No data availible"})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=Object(D.a)(M.a.mark((function e(n,t){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H.ref(t),e.abrupt("return",r.push(n).then((function(){return!0})));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(D.a)(M.a.mark((function e(n){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H.ref("users/".concat(n,"/username")),e.abrupt("return",t.get().then((function(e){if(console.log(e),e.exists())return e.val();throw"No data availible"})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=t(68),W=function(){var e=Object(D.a)(M.a.mark((function e(n,t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.ref().child("images/".concat(t,"/").concat(Object(V.a)(),".png")).putString(n,"data_url").then((function(e){return console.log(e),e.metadata.fullPath})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),q=function(){var e=Object(D.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.ref().child(n).getDownloadURL().then((function(e){return e})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=Object(k.b)("postsFeed/fetchPosts",Object(D.a)(M.a.mark((function e(){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("posts");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))),ee=Object(k.b)("postsFeed/savePost",function(){var e=Object(D.a)(M.a.mark((function e(n){var t,r,a,c,i,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.img,r=n.uid,a=n.username,e.next=3,W(t,r);case 3:return c=e.sent,e.next=6,q(c);case 6:return i=e.sent,o={path:i,author:a,date:new Date(Date.now()).toString()},e.next=10,J(o,"posts");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),ne=Object(k.c)({name:"postsFeed",initialState:[],reducers:{},extraReducers:(r={},Object(P.a)(r,$.fulfilled.toString(),(function(e,n){return Object.entries(n.payload).map((function(e){return e[1]}))})),Object(P.a)(r,$.rejected.toString(),(function(e,n){console.log(n)})),r)}).reducer,te=t(23),re={"auth/invalid-email":"Enter valid email please","auth/user-not-found":"User with this email not found","auth/wrong-password":"Wrong password, try again","auth/weak-password":"Password is too weak, it should be at least 6 characters","auth/email-already-in-use":"This email is already taken",default:"Something went wrong :C"},ae=function(){var e=Object(D.a)(M.a.mark((function e(n,t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.signInWithEmailAndPassword(n,t).then((function(e){return e.user?e.user.uid:""})).catch((function(e){throw re[e.code]?re[e.code]:re.default})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(D.a)(M.a.mark((function e(n,t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.createUserWithEmailAndPassword(n,t).then((function(e){return e.user?e.user.uid:""})).catch((function(e){throw re[e.code]?re[e.code]:re.default})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.signOut());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=Object(k.b)("user/signUp",function(){var e=Object(D.a)(M.a.mark((function e(n){var t,r,a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,a=n.username,e.next=3,ce(t,r);case 3:return c=e.sent,e.next=6,z(c,a);case 6:return e.abrupt("return",{uid:c,username:a});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),se=Object(k.b)("user/signIn",function(){var e=Object(D.a)(M.a.mark((function e(n){var t,r,a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,e.next=3,ae(t,r);case 3:return a=e.sent,e.next=6,Z(a);case 6:return c=e.sent,e.abrupt("return",{uid:a,username:c});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),ue=Object(k.b)("user/logOut",Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:case"end":return e.stop()}}),e)})))),le=Object(k.c)({name:"user",initialState:{uid:"",username:"",isLoggedIn:!1,isError:!1,errorMessage:""},reducers:{clearState:function(e){return Object(te.a)(Object(te.a)({},e),{},{isError:!1})}},extraReducers:(a={},Object(P.a)(a,se.fulfilled.toString(),(function(e,n){return Object(te.a)(Object(te.a)({},e),{},{uid:n.payload.uid,username:n.payload.username,isLoggedIn:!0})})),Object(P.a)(a,se.rejected.toString(),(function(e,n){return Object(te.a)(Object(te.a)({},e),{},{isError:!0,errorMessage:n.error.message})})),Object(P.a)(a,oe.fulfilled.toString(),(function(e,n){return Object(te.a)(Object(te.a)({},e),{},{uid:n.payload.uid,username:n.payload.username,isLoggedIn:!0})})),Object(P.a)(a,oe.rejected.toString(),(function(e,n){return Object(te.a)(Object(te.a)({},e),{},{isError:!0,errorMessage:n.error.message})})),Object(P.a)(a,ue.fulfilled.toString(),(function(e){return Object(te.a)(Object(te.a)({},e),{},{isLoggedIn:!1})})),a)}),Ae=le.actions.clearState,de=le.reducer,be=Object(y.c)({postsFeed:ne,userData:de}),pe=Object(k.a)({reducer:be}),fe=t(7),je=t(8),he=Object(je.a)(c||(c=Object(fe.a)(['\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n      monospace;\n  }\n']))),ge=t(28),Oe=t(16),xe=t(17),we=je.b.input(i||(i=Object(fe.a)(["\n  font-family: inherit;\n  height: 30px;\n  border: 3px solid orange;\n  border-radius: 10px;\n  width: 280px;\n  outline: none;\n"]))),me=je.b.button(o||(o=Object(fe.a)(["\n  max-width: 220px;\n  width: 40%;\n  height: 30px;\n  background-color:",";\n  border: 0;\n  border-radius: 10px;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 14px;\n"])),(function(e){return e.isDanger?"red":"orange"})),ve=t(34),Ce=(t(60),function(e){ve.b.error(e,{position:ve.b.POSITION.TOP_CENTER,autoClose:3500})}),Ee=ve.a,Ie={ROOT:"/",HOME:"/home",LOGIN:"/login",REGISTER:"/register",PAINT:"/paint"},Be=function(e){return e.userData},Re=je.b.div(s||(s=Object(fe.a)(['\n  width: 100%;\n  min-height: 100vh;\n  font-family: "Rowdies";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: orange;\n  & > span {\n    color: white;\n    font-size: 50px;\n    margin-bottom: 50px;\n  }\n']))),Se=je.b.div(u||(u=Object(fe.a)(["\n  width: 300px;\n  height: 400px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n  justify-content: space-evenly;\n"]))),ke=t(3),ye=function(){var e=Object(E.useState)(""),n=Object(xe.a)(e,2),t=n[0],r=n[1],a=Object(E.useState)(""),c=Object(xe.a)(a,2),i=c[0],o=c[1],s=Object(S.c)(Be),u=s.isLoggedIn,l=s.isError,A=s.errorMessage,d=Object(S.b)(),b=Object(Oe.g)(),p=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t&&""!==i){e.next=3;break}return Ce("Fill all fields please"),e.abrupt("return");case 3:d(se({email:t,password:i}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.useEffect)((function(){u&&(d(Ae()),b.push(Ie.HOME)),l&&(Ce(A),d(Ae()))}),[u,l]),Object(ke.jsxs)(Re,{children:[Object(ke.jsx)("span",{children:"Mini-Paint"}),Object(ke.jsxs)(Se,{children:[Object(ke.jsx)("span",{children:"Please Login"}),Object(ke.jsx)(we,{onChange:function(e){return r(e.target.value)},value:t,type:"text",placeholder:"E-mail"}),Object(ke.jsx)(we,{onChange:function(e){return o(e.target.value)},value:i,type:"password",placeholder:"Password"}),Object(ke.jsx)(me,{onClick:p,children:"Sign In"}),Object(ke.jsx)(ge.b,{to:"/register",children:"Dont have an account? Sign Up here!"})]}),Object(ke.jsx)(Ee,{})]})},Pe=je.b.div(l||(l=Object(fe.a)(['\n  width: 100%;\n  min-height: 100vh;\n  font-family: "Rowdies";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: orange;\n  & > span {\n    color: white;\n    font-size: 50px;\n    margin-bottom: 50px;\n  }\n']))),Te=je.b.div(A||(A=Object(fe.a)(["\n  width: 300px;\n  height: 400px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n  justify-content: space-evenly;\n"]))),Me=function(){var e=Object(E.useState)(""),n=Object(xe.a)(e,2),t=n[0],r=n[1],a=Object(E.useState)(""),c=Object(xe.a)(a,2),i=c[0],o=c[1],s=Object(E.useState)(""),u=Object(xe.a)(s,2),l=u[0],A=u[1],d=Object(E.useState)(""),b=Object(xe.a)(d,2),p=b[0],f=b[1],j=Object(Oe.g)(),h=Object(S.b)(),g=Object(S.c)(Be),O=g.isError,x=g.isLoggedIn,w=g.errorMessage,m=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t&&""!==p&&""!==i&&""!==l){e.next=3;break}return Ce("Fill all fields please"),e.abrupt("return");case 3:if(i===l){e.next=6;break}return Ce("Passwords should match"),e.abrupt("return");case 6:h(oe({email:t,password:i,username:p}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.useEffect)((function(){x&&(h(Ae()),j.push(Ie.HOME)),O&&(h(Ae()),Ce(w))})),Object(ke.jsxs)(Pe,{children:[Object(ke.jsx)("span",{children:"Mini-Paint"}),Object(ke.jsxs)(Te,{children:[Object(ke.jsx)("span",{children:"Please Register"}),Object(ke.jsx)(we,{onChange:function(e){return r(e.target.value)},value:t,type:"text",placeholder:"E-mail"}),Object(ke.jsx)(we,{onChange:function(e){return f(e.target.value)},value:p,type:"text",placeholder:"Username"}),Object(ke.jsx)(we,{onChange:function(e){return o(e.target.value)},value:i,type:"password",placeholder:"Password"}),Object(ke.jsx)(we,{onChange:function(e){return A(e.target.value)},value:l,type:"password",placeholder:"Comfirm password"}),Object(ke.jsx)(me,{onClick:m,children:"Sign Up"}),Object(ke.jsx)(ge.b,{to:"/login",children:"Already have an account? Sign In here!"})]}),Object(ke.jsx)(Ee,{})]})},De=Object(je.b)(ge.b)(d||(d=Object(fe.a)(["\n  max-width: 220px;\n  width: 40%;\n  height: 30px;\n  background-color: orange;\n  border: 0;\n  border-radius: 10px;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n"]))),Ye=je.b.div(b||(b=Object(fe.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Ue=je.b.div(p||(p=Object(fe.a)(["\n  max-width: 768px;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  margin:20px;\n"]))),Le=function(e){return e.postsFeed},Ne=t(66),Ge=t(67),Fe=je.b.div(f||(f=Object(fe.a)(["\n    max-width: 768px;\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n"]))),Qe=je.b.div(j||(j=Object(fe.a)(["\n    min-height: 320px;\n    width: 90%;\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    margin-top:20px;\n\n    & > img {\n        border: 10px solid black;\n        width: 100%;\n    }\n\n    & > div {\n        width: 100%;\n        display:flex;\n        flex-direction: row;\n        justify-content:space-evenly;\n    }\n"]))),He=function(){var e=Object(E.useState)(""),n=Object(xe.a)(e,2),t=n[0],r=n[1],a=Object(S.c)(Le),c=Object(E.useMemo)((function(){return(""===t?a.slice():a.filter((function(e){return e.author.toLowerCase().includes(t.toLowerCase())}))).sort((function(e,n){return Object(Ne.a)(new Date(e.date),new Date(n.date))})).map((function(e){return Object(ke.jsxs)(Qe,{children:[Object(ke.jsx)("img",{src:e.path,alt:""}),Object(ke.jsxs)("div",{children:[Object(ke.jsxs)("span",{children:["Author:"," ",e.author]}),Object(ke.jsxs)("span",{children:["Date:"," ",Object(Ge.a)(new Date(Date.now()),new Date(e.date))," ","ago"]})]})]})}))}),[a,t]);return Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(we,{onChange:function(e){return r(e.target.value)},value:t,type:"text",placeholder:"Filter by user"}),Object(ke.jsx)(Fe,{children:c})]})},Xe=function(){var e=Object(Oe.g)(),n=Object(S.c)(Be).isLoggedIn,t=Object(S.b)();Object(E.useEffect)((function(){n?t($()):e.push(Ie.LOGIN)}),[n]);var r=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ue());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ke.jsxs)(Ye,{children:[Object(ke.jsxs)(Ue,{children:[Object(ke.jsx)(De,{to:Ie.PAINT,children:"+ New painting"}),Object(ke.jsx)(me,{onClick:r,children:"Log Out"})]}),Object(ke.jsx)(He,{})]})},Ke=je.b.canvas(h||(h=Object(fe.a)(["\n    border: 5px solid black;\n"]))),ze=je.b.div(g||(g=Object(fe.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items:center;\n    min-height: 100vh;\n\n    & > span {\n        font-size: 50px;\n        font-weight: bolder;\n    }\n"]))),_e=["black","red","green","blue","yellow","purple","pink","cyan","brown","orange","silver","gold","lime"],Je=["data:image/png;base64,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","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGcSURBVHic5dK9TQNBEIDRt0BGAyAyR/RARAM0QUAHroBaKMANEJETIiERAl0sgY2ELGP77Lv9nXCieZ8mxBj1MiGEGea4wwKPZ3lPSjchhGs842K1eoDQwwdswP/O10mGe5LOFjwsmv6AHfhv3DT7AXvgb2OMH00G2BP/Bs0FGIKnsQBD8TQU4BA8jQQ4FE8DAY7BU3mAY/FUHGAMPJUGGAtPhQHGxFNZgLHxVBRgCjyVBJgKTwUBpsRTeICp8RQcIAWeQgOkwlNggJR4CguQGk9BAXLgKSRALjwFBMiJJ3OA3HgyBigBT6YApeDJEKAkPIkDlIYnYYAS8SQKUCqeBAFKxjNxgNLxTBigBjwTBagFzwQBasIzcoDa8IwYoEY8IwWoFc8IAWrGc2SA2vEcEaAFPAcGaAXPAQFawjMwQGt4BgRoEc+eAVrFs0eAlvHsCNA6ni0BesDzT4Be8GwI0BOetQC94fkToEc8qwC94iFghhcd4ll+wFyneJYf8InLtX0XeJYfsFjbdYOHU7ziHFd4wn2M8T3rVQnnBxnUc+IPCTq6AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAApXAAAKVwGn8z/gAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAABJQTFRF////AAAAAAAAAAAAAAAAAAAAZJzAmgAAAAV0Uk5TAECQsMTcoE5tAAAAN0lEQVRIS2NgGAUjCSgRAAyhBABDqLMxHmACVCCAzwGMowpGFYwqGCgFBDMvoexPsAAZBSMJAACc1z+f7W9pCwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJ1SURBVHic7Zu9ahtBFIW/2biJIVUiAnZp3PoJXLlIJxBWmSqFX0MPY0gtgTsVwYXRQwgM28hgsJtE2I2jm2JW0Wq9a8nyzt6RZw4cthGrew6z83fvNSKCSxhjdoET4ADYA/az55wANzlOsuc18EtEHpzG58IAY8xnoA10gG/Axw1f9QgMgQFwISL39USYg4jUQmAHOAMugSdAauZT9u4zYKe2uGsS3wXGDkRXcQx01Q0AjoFRg8KLHAHHjRsAtIC+ovAi+0CrEQOAIyD1QHSRKXDk1ADgFJh6ILaKU+C0dgMAA/SAmQciV3GWxWpqMSATf+6BsNfyfB0T1jGg54GYTdl7kwHYb34bhn0VZ6yYE1bN9j5PeOtyygurQ5X4Fn4udZsypWKfUGWAT5ucuthfywDs9lY7WFd8tm0uM0Bzb++aoxcNwJ7qtIN0zW6pAdjzfJNHWi2Oyd0nJCzwAzjk/eMQqxVgyYDvzceihv9ajYjM7/BugQ96MTWKv8BXEbmfj4A24YgHq7UNi0+goxeLGjpgj7q7wB2bX11vKx6BLwk2aRGaeLCaTxJsxiZUHCQs0lMhYi/B5upCxX4cAQRugAF+A5+0I1HCn2T1b943EmwxQqi4iQYQDWCiHYUiJnEEYKuxQsV1PA6LrcMbakejgKGIPMw3QgPVUHQwgHgpai9FxVZgXunG1CiuMs1LeYGfSsFoYKE19NRYTI7G9HgskIglMrFIKpbJVZsQbqFkzoRwS2UzA8Iuls6ZEGa5fMmc4PPE6KZhomR1SD0QW2SK65aZnAnhNk0VjAizba7EiDAbJwsmbGXrbPDN004MWPoDz9vn/wFoczxjtZ8dQAAAAABJRU5ErkJggg=="],Ze=je.b.div(O||(O=Object(fe.a)(["\n    max-width: 500px;\n    min-height: 400px;\n    width:90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n"]))),Ve=je.b.div(x||(x=Object(fe.a)(["\n    width: 100%;\n    height: 75%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),We=je.b.div(w||(w=Object(fe.a)(["\n    width: 100%;\n    min-height: 70px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),qe=je.b.img(m||(m=Object(fe.a)(["\n    width: 50px;\n    height: 50px;\n    margin: 20px;\n    ","\n"])),(function(e){return e.isPicked?"border: 2px dotted black;":""})),$e=je.b.div(v||(v=Object(fe.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    margin: 20px;\n    background-color: ",";\n    ","\n"])),(function(e){return e.color}),(function(e){return e.isPicked?"padding:5px;":""})),en=je.b.input(C||(C=Object(fe.a)(["\n    width: 200px;\n    height: 10px;\n    margin: 20px;\n"]))),nn=I.a.memo((function(e){var n=e.handleColorPick,t=e.handleLineWidthPick,r=e.handleInstrumentPick,a=e.pickedInstrument,c=e.pickedColor;return Object(ke.jsxs)(Ze,{children:[Object(ke.jsx)(Ve,{children:_e.map((function(e){return Object(ke.jsx)($e,{isPicked:e===c,id:e,onClick:n,color:e})}))}),Object(ke.jsx)(We,{children:Je.map((function(e,n){return Object(ke.jsx)(qe,{isPicked:n.toString()===a,src:e,id:n.toString(),onClick:r})}))}),Object(ke.jsx)(en,{defaultValue:1,min:1,max:20,step:1,type:"range",onChange:t})]})})),tn=function(){var e=Object(E.useRef)(null),n=Object(E.useState)(),t=Object(xe.a)(n,2),r=t[0],a=t[1],c=Object(E.useState)(!1),i=Object(xe.a)(c,2),o=i[0],s=i[1],u=Object(E.useState)({offsetX:0,offsetY:0}),l=Object(xe.a)(u,2),A=l[0],d=l[1],b=Object(E.useState)(),p=Object(xe.a)(b,2),f=p[0],j=p[1],h=Object(E.useState)("black"),g=Object(xe.a)(h,2),O=g[0],x=g[1],w=Object(E.useState)("0"),m=Object(xe.a)(w,2),v=m[0],C=m[1],I=Object(E.useState)("1"),B=Object(xe.a)(I,2),R=B[0],k=B[1],y=Object(Oe.g)(),P=Object(S.b)(),T=Object(S.c)(Be),Y=T.username,U=T.isLoggedIn,L=T.uid;Object(E.useEffect)((function(){U||y.push(Ie.LOGIN)}),[U]),Object(E.useLayoutEffect)((function(){e&&e.current&&a(e.current.getContext("2d"))}),[]);var N=Object(E.useCallback)((function(){console.log(f),f&&(null===r||void 0===r||r.putImageData(f,0,0))}),[f]),G=function(){s(!1),j(r.getImageData(0,0,e.current.width,e.current.height))},F=function(){var n=Object(D.a)(M.a.mark((function n(){var t,r;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=null===(t=e.current)||void 0===t?void 0:t.toDataURL())&&(P(ee({img:r,uid:L,username:Y})),y.push(Ie.HOME));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Q=Object(E.useCallback)((function(e){k(e.target.value)}),[]),H=Object(E.useCallback)((function(e){C(e.currentTarget.id)}),[]),X=Object(E.useCallback)((function(e){x(e.currentTarget.id)}),[]);return Object(ke.jsxs)(ze,{children:[Object(ke.jsx)("span",{children:"Draw here"}),Object(ke.jsx)(Ke,{ref:e,onMouseMove:function(n){var t=n.nativeEvent;if(o){var a=t;!function(n){var t=n.offsetX,a=n.offsetY,c=A.offsetX,i=A.offsetY;if(r){var o=c-t,s=i-a,u=Math.sqrt(o*o+s*s);switch(r.strokeStyle=O,r.lineCap="round",r.lineWidth=parseInt(R,10),r.beginPath(),v){case"0":r.moveTo(c,i),r.lineTo(t,a),d({offsetX:t,offsetY:a});break;case"1":r.clearRect(0,0,e.current.width,e.current.height),N(),r.moveTo(c,i),r.lineTo(t,a);break;case"2":r.clearRect(0,0,e.current.width,e.current.height),N(),r.rect(c,i,t-c,a-i);break;case"3":r.clearRect(0,0,e.current.width,e.current.height),N(),r.arc(c,i,u,0,2*Math.PI)}r.stroke()}}({offsetX:a.offsetX,offsetY:a.offsetY})}},onMouseDown:function(e){var n=e.nativeEvent,t=n.offsetX,r=n.offsetY;d({offsetX:t,offsetY:r}),N(),s(!0)},onMouseLeave:G,onMouseUp:G,id:"canvas",width:500,height:500}),Object(ke.jsx)(nn,{pickedColor:O,pickedInstrument:v,handleLineWidthPick:Q,handleColorPick:X,handleInstrumentPick:H}),Object(ke.jsxs)(Ue,{children:[Object(ke.jsx)(De,{to:"/home",children:"Go back"}),Object(ke.jsx)(me,{isDanger:!0,onClick:function(){r&&e&&e.current&&r.clearRect(0,0,e.current.width,e.current.height)},children:"Clear canvas"}),Object(ke.jsx)(me,{onClick:F,children:"Save your drawing"})]})]})},rn=function(){return Object(ke.jsx)(ge.a,{children:Object(ke.jsxs)(Oe.d,{children:[Object(ke.jsx)(Oe.a,{from:Ie.ROOT,to:Ie.HOME,exact:!0}),Object(ke.jsx)(Oe.b,{path:Ie.LOGIN,children:Object(ke.jsx)(ye,{})}),Object(ke.jsx)(Oe.b,{path:Ie.REGISTER,children:Object(ke.jsx)(Me,{})}),Object(ke.jsx)(Oe.b,{path:Ie.HOME,children:Object(ke.jsx)(Xe,{})}),Object(ke.jsx)(Oe.b,{path:Ie.PAINT,children:Object(ke.jsx)(tn,{})})]})})};R.a.render(Object(ke.jsxs)(I.a.StrictMode,{children:[Object(ke.jsx)(he,{}),Object(ke.jsx)(S.a,{store:pe,children:Object(ke.jsx)(rn,{})})]}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.a03a3e6c.chunk.js.map