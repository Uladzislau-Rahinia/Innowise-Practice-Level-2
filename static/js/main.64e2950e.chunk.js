(this["webpackJsonpinnowise-practice-level-2"]=this["webpackJsonpinnowise-practice-level-2"]||[]).push([[0],{63:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o,s,u,l,d,A,b,f,p,j,h,g,O,w,x,m,v,B,C,E,k=n(2),S=n.n(k),R=n(32),y=n.n(R),I=n(17),P=n(23),T=n(27),D=n(22),L=n(5),N=n.n(L),Y=n(9),M=n(49),U=Object({NODE_ENV:"production",PUBLIC_URL:"/Innowise-Practice-Level-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_ID:"1:5717546368:web:99ac8e7d671e464fce5d65",REACT_APP_AUTH_DOMAIN:"innowise-practice-level-2.firebaseapp.com",REACT_APP_DATABASE_URL:"https://innowise-practice-level-2-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_API_KEY:"AIzaSyD7Rwe9RDZoMK1n_JP8f-_ZhInMlJtDmCk",REACT_APP_MESSAGING_SENDER_ID:"5717546368",REACT_APP_PROJECT_ID:"innowise-practice-level-2",REACT_APP_STORAGE_BUCKET:"innowise-practice-level-2.appspot.com"}),G=U.REACT_APP_FIREBASE_API_KEY,F=U.REACT_APP_AUTH_DOMAIN,X=U.REACT_APP_DATABASE_URL,H={apiKey:G,authDomain:F,projectId:U.REACT_APP_PROJECT_ID,storageBucket:U.REACT_APP_STORAGE_BUCKET,messagingSenderId:U.REACT_APP_MESSAGING_SENDER_ID,appId:U.REACT_APP_APP_ID,databaseURL:X},Q=M.a.initializeApp(H),K=Q.database(),z=Q.auth(),V=Q.storage(),_=function(){var e=Object(Y.a)(N.a.mark((function e(t,n){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K.ref("users/".concat(t)),(a={username:""}).username=n,e.abrupt("return",r.update(a).then((function(){return!0})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(Y.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=K.ref(t),e.abrupt("return",n.get().then((function(e){if(e.exists())return e.val();throw"No data availible"})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(Y.a)(N.a.mark((function e(t,n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K.ref(n),e.abrupt("return",r.push(t).then((function(){return!0})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(Y.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=K.ref("users/".concat(t,"/username")),e.abrupt("return",n.get().then((function(e){if(e.exists())return e.val();throw"No data availible"})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=n(68),$=function(){var e=Object(Y.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.ref().child("images/".concat(n,"/").concat(Object(q.a)(),".png")).putString(t,"data_url").then((function(e){return e.metadata.fullPath})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(Y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.ref().child(t).getDownloadURL().then((function(e){return e})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=Object(P.b)("postsFeed/fetchPosts",Object(Y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("posts");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),ne=Object(P.b)("postsFeed/savePost",function(){var e=Object(Y.a)(N.a.mark((function e(t){var n,r,a,c,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.img,r=t.uid,a=t.username,e.next=3,$(n,r);case 3:return c=e.sent,e.next=6,ee(c);case 6:return i=e.sent,o={path:i,author:a,date:new Date(Date.now()).toString()},e.next=10,Z(o,"posts");case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re=Object(P.c)({name:"postsFeed",initialState:[],reducers:{},extraReducers:(r={},Object(D.a)(r,te.fulfilled.toString(),(function(e,t){return Object.entries(t.payload).map((function(e){return e[1]}))})),Object(D.a)(r,ne.fulfilled.toString(),(function(e,t){e.push(t.payload)})),r)}).reducer,ae=n(19),ce={"auth/invalid-email":"Enter valid email please","auth/user-not-found":"User with this email not found","auth/wrong-password":"Wrong password, try again","auth/weak-password":"Password is too weak, it should be at least 6 characters","auth/email-already-in-use":"This email is already taken",default:"Something went wrong :C"},ie=function(){var e=Object(Y.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.signInWithEmailAndPassword(t,n).then((function(e){return e.user?e.user.uid:""})).catch((function(e){throw ce[e.code]?ce[e.code]:ce.default})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(Y.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.createUserWithEmailAndPassword(t,n).then((function(e){return e.user?e.user.uid:""})).catch((function(e){throw ce[e.code]?ce[e.code]:ce.default})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(Y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.signOut());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=Object(P.b)("user/signUp",function(){var e=Object(Y.a)(N.a.mark((function e(t){var n,r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a=t.username,e.next=3,oe(n,r);case 3:return c=e.sent,e.next=6,_(c,a);case 6:return e.abrupt("return",{uid:c,username:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le=Object(P.b)("user/signIn",function(){var e=Object(Y.a)(N.a.mark((function e(t){var n,r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,ie(n,r);case 3:return a=e.sent,e.next=6,W(a);case 6:return c=e.sent,e.abrupt("return",{uid:a,username:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),de=Object(P.b)("user/signInCheckResult",function(){var e=Object(Y.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,W(t);case 3:return n=e.sent,e.abrupt("return",{uid:t,username:n});case 5:throw new Error;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ae=Object(P.b)("user/logOut",Object(Y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:case"end":return e.stop()}}),e)})))),be=Object(P.c)({name:"user",initialState:{uid:"",username:"",isLoggedIn:!1,isPending:!0,isError:!1,errorMessage:""},reducers:{clearState:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{isError:!1,isPending:!1})}},extraReducers:(a={},Object(D.a)(a,le.fulfilled.toString(),(function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},{uid:t.payload.uid,username:t.payload.username,isLoggedIn:!0})})),Object(D.a)(a,le.rejected.toString(),(function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},{isError:!0,errorMessage:t.error.message})})),Object(D.a)(a,ue.fulfilled.toString(),(function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},{uid:t.payload.uid,username:t.payload.username,isLoggedIn:!0})})),Object(D.a)(a,ue.rejected.toString(),(function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},{isError:!0,errorMessage:t.error.message})})),Object(D.a)(a,Ae.fulfilled.toString(),(function(e){return Object(ae.a)(Object(ae.a)({},e),{},{isLoggedIn:!1})})),Object(D.a)(a,de.fulfilled.toString(),(function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},{uid:t.payload.uid,username:t.payload.username,isLoggedIn:!0,isPending:!1})})),Object(D.a)(a,de.rejected.toString(),(function(e){return Object(ae.a)(Object(ae.a)({},e),{},{isPending:!1})})),Object(D.a)(a,de.pending.toString(),(function(e){return Object(ae.a)(Object(ae.a)({},e),{},{isPending:!0})})),a)}),fe=be.actions.clearState,pe=be.reducer,je=Object(T.c)({postsFeed:re,userData:pe}),he=Object(P.a)({reducer:je}),ge=n(7),Oe=n(8),we=Object(Oe.a)(c||(c=Object(ge.a)(['\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n      monospace;\n  }\n']))),xe=n(28),me=n(16),ve=n(18),Be=Oe.b.input(i||(i=Object(ge.a)(["\n  font-family: inherit;\n  height: 30px;\n  border: 3px solid orange;\n  border-radius: 10px;\n  width: 280px;\n  outline: none;\n"]))),Ce=Oe.b.button(o||(o=Object(ge.a)(["\n  max-width: 220px;\n  width: 40%;\n  height: 30px;\n  background-color:",";\n  border: 0;\n  border-radius: 10px;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 14px;\n"])),(function(e){return e.isDanger?"red":"orange"})),Ee=n(34),ke=(n(60),function(e){Ee.b.error(e,{position:Ee.b.POSITION.TOP_CENTER,autoClose:3500})}),Se=Ee.a,Re={ROOT:"/",HOME:"/home",LOGIN:"/login",REGISTER:"/register",PAINT:"/paint"},ye=function(e){return e.userData},Ie=Oe.b.div(s||(s=Object(ge.a)(['\n  width: 100%;\n  min-height: 100vh;\n  font-family: "Rowdies";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: orange;\n  & > span {\n    color: white;\n    font-size: 50px;\n    margin-bottom: 50px;\n  }\n']))),Pe=Oe.b.div(u||(u=Object(ge.a)(["\n  width: 300px;\n  height: 400px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n  justify-content: space-evenly;\n"]))),Te=n(3),De=function(){var e=Object(k.useState)(""),t=Object(ve.a)(e,2),n=t[0],r=t[1],a=Object(k.useState)(""),c=Object(ve.a)(a,2),i=c[0],o=c[1],s=Object(I.c)(ye),u=s.isLoggedIn,l=s.isError,d=s.errorMessage,A=Object(I.b)(),b=Object(me.g)(),f=function(){var e=Object(Y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&""!==i){e.next=3;break}return ke("Fill all fields please"),e.abrupt("return");case 3:A(le({email:n,password:i}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.useEffect)((function(){u&&(A(fe()),b.push(Re.HOME)),l&&(ke(d),A(fe()))}),[u,l]),Object(Te.jsxs)(Ie,{children:[Object(Te.jsx)("span",{children:"Mini-Paint"}),Object(Te.jsxs)(Pe,{children:[Object(Te.jsx)("span",{children:"Please Login"}),Object(Te.jsx)(Be,{onChange:function(e){return r(e.target.value)},value:n,type:"text",placeholder:"E-mail"}),Object(Te.jsx)(Be,{onChange:function(e){return o(e.target.value)},value:i,type:"password",placeholder:"Password"}),Object(Te.jsx)(Ce,{onClick:f,children:"Sign In"}),Object(Te.jsx)(xe.b,{to:"/register",children:"Dont have an account? Sign Up here!"})]}),Object(Te.jsx)(Se,{})]})},Le=Oe.b.div(l||(l=Object(ge.a)(['\n  width: 100%;\n  min-height: 100vh;\n  font-family: "Rowdies";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: orange;\n  & > span {\n    color: white;\n    font-size: 50px;\n    margin-bottom: 50px;\n  }\n']))),Ne=Oe.b.div(d||(d=Object(ge.a)(["\n  width: 300px;\n  height: 400px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n  justify-content: space-evenly;\n"]))),Ye=function(){var e=Object(k.useState)(""),t=Object(ve.a)(e,2),n=t[0],r=t[1],a=Object(k.useState)(""),c=Object(ve.a)(a,2),i=c[0],o=c[1],s=Object(k.useState)(""),u=Object(ve.a)(s,2),l=u[0],d=u[1],A=Object(k.useState)(""),b=Object(ve.a)(A,2),f=b[0],p=b[1],j=Object(me.g)(),h=Object(I.b)(),g=Object(I.c)(ye),O=g.isError,w=g.isLoggedIn,x=g.errorMessage,m=function(){var e=Object(Y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&""!==f&&""!==i&&""!==l){e.next=3;break}return ke("Fill all fields please"),e.abrupt("return");case 3:if(i===l){e.next=6;break}return ke("Passwords should match"),e.abrupt("return");case 6:h(ue({email:n,password:i,username:f}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.useEffect)((function(){w&&(h(fe()),j.push(Re.HOME)),O&&(h(fe()),ke(x))})),Object(Te.jsxs)(Le,{children:[Object(Te.jsx)("span",{children:"Mini-Paint"}),Object(Te.jsxs)(Ne,{children:[Object(Te.jsx)("span",{children:"Please Register"}),Object(Te.jsx)(Be,{onChange:function(e){return r(e.target.value)},value:n,type:"text",placeholder:"E-mail"}),Object(Te.jsx)(Be,{onChange:function(e){return p(e.target.value)},value:f,type:"text",placeholder:"Username"}),Object(Te.jsx)(Be,{onChange:function(e){return o(e.target.value)},value:i,type:"password",placeholder:"Password"}),Object(Te.jsx)(Be,{onChange:function(e){return d(e.target.value)},value:l,type:"password",placeholder:"Comfirm password"}),Object(Te.jsx)(Ce,{onClick:m,children:"Sign Up"}),Object(Te.jsx)(xe.b,{to:"/login",children:"Already have an account? Sign In here!"})]}),Object(Te.jsx)(Se,{})]})},Me=Object(Oe.b)(xe.b)(A||(A=Object(ge.a)(["\n  max-width: 220px;\n  width: 40%;\n  height: 30px;\n  background-color: orange;\n  border: 0;\n  border-radius: 10px;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n"]))),Ue=Oe.b.div(b||(b=Object(ge.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Ge=Oe.b.div(f||(f=Object(ge.a)(["\n  max-width: 768px;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  margin:20px;\n"]))),Fe=function(e){return e.postsFeed},Xe=n(66),He=n(67),Qe=Oe.b.div(p||(p=Object(ge.a)(["\n    max-width: 768px;\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n"]))),Ke=Oe.b.div(j||(j=Object(ge.a)(["\n    min-height: 320px;\n    width: 90%;\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    margin-top:20px;\n\n    & > img {\n        border: 10px solid black;\n        width: 100%;\n    }\n\n    & > div {\n        width: 100%;\n        display:flex;\n        flex-direction: row;\n        justify-content:space-evenly;\n    }\n"]))),ze=function(){var e=Object(k.useState)(""),t=Object(ve.a)(e,2),n=t[0],r=t[1],a=Object(I.c)(Fe),c=Object(k.useMemo)((function(){return(""===n?a.slice():a.filter((function(e){return e.author.toLowerCase().includes(n.toLowerCase())}))).sort((function(e,t){return Object(Xe.a)(new Date(e.date),new Date(t.date))})).map((function(e){return Object(Te.jsxs)(Ke,{children:[Object(Te.jsx)("img",{src:e.path,alt:""}),Object(Te.jsxs)("div",{children:[Object(Te.jsxs)("span",{children:["Author:"," ",e.author]}),Object(Te.jsxs)("span",{children:["Date:"," ",Object(He.a)(new Date(Date.now()),new Date(e.date))," ","ago"]})]})]})}))}),[a,n]);return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Be,{onChange:function(e){return r(e.target.value)},value:n,type:"text",placeholder:"Filter by user"}),Object(Te.jsx)(Qe,{children:c})]})},Ve=function(){var e=Object(me.g)(),t=Object(I.c)(ye).isLoggedIn,n=Object(I.b)();Object(k.useLayoutEffect)((function(){window.scroll(0,0)}),[]),Object(k.useEffect)((function(){t?n(te()):e.push(Re.LOGIN)}),[t]);var r=function(){var e=Object(Y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Ae());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Te.jsxs)(Ue,{children:[Object(Te.jsxs)(Ge,{children:[Object(Te.jsx)(Me,{to:Re.PAINT,children:"+ New painting"}),Object(Te.jsx)(Ce,{onClick:r,children:"Log Out"})]}),Object(Te.jsx)(ze,{})]})},_e=Oe.b.canvas(h||(h=Object(ge.a)(["\n    border: 5px solid black;\n"]))),Je=Oe.b.div(g||(g=Object(ge.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items:center;\n    min-height: 100vh;\n    ","\n    & > span {\n        font-size: 50px;\n        font-weight: bolder;\n    }\n"])),(function(e){return e.isPainting?"overflow:hidden; height:100vh;":""})),Ze=Oe.b.div(O||(O=Object(ge.a)(["\n  max-width: 768px;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  margin:20px;\n\n  @media(max-width:768px) {\n      flex-direction: column;\n      align-items: center;\n  }\n\n  & > * {\n      margin-bottom: 20px;\n  }\n"]))),We=["black","red","green","blue","yellow","purple","pink","cyan","brown","orange","silver","gold","lime"],qe=["data:image/png;base64,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","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGcSURBVHic5dK9TQNBEIDRt0BGAyAyR/RARAM0QUAHroBaKMANEJETIiERAl0sgY2ELGP77Lv9nXCieZ8mxBj1MiGEGea4wwKPZ3lPSjchhGs842K1eoDQwwdswP/O10mGe5LOFjwsmv6AHfhv3DT7AXvgb2OMH00G2BP/Bs0FGIKnsQBD8TQU4BA8jQQ4FE8DAY7BU3mAY/FUHGAMPJUGGAtPhQHGxFNZgLHxVBRgCjyVBJgKTwUBpsRTeICp8RQcIAWeQgOkwlNggJR4CguQGk9BAXLgKSRALjwFBMiJJ3OA3HgyBigBT6YApeDJEKAkPIkDlIYnYYAS8SQKUCqeBAFKxjNxgNLxTBigBjwTBagFzwQBasIzcoDa8IwYoEY8IwWoFc8IAWrGc2SA2vEcEaAFPAcGaAXPAQFawjMwQGt4BgRoEc+eAVrFs0eAlvHsCNA6ni0BesDzT4Be8GwI0BOetQC94fkToEc8qwC94iFghhcd4ll+wFyneJYf8InLtX0XeJYfsFjbdYOHU7ziHFd4wn2M8T3rVQnnBxnUc+IPCTq6AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAApXAAAKVwGn8z/gAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAABJQTFRF////AAAAAAAAAAAAAAAAAAAAZJzAmgAAAAV0Uk5TAECQsMTcoE5tAAAAN0lEQVRIS2NgGAUjCSgRAAyhBABDqLMxHmACVCCAzwGMowpGFYwqGCgFBDMvoexPsAAZBSMJAACc1z+f7W9pCwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAO4SURBVHic7Zu/ThVBGMV/syaEhFZFLyaY8ABgQehugdFOQ4fhDWh5Aq1teAeItYklaiEJCcQQfIBLMJGrgi2BQvgsdlaGb2evi+zO4o4n2eLunZnvnDMzu7Pzx4gIdcIYMwLMAhNAx3MB9D1XD3gvIke18qvDAGPMLeAJMAc8Aob/sqgTYA14DbwRkcNqGDoQkUouYAhYBNaBU0Aqvk6BDzbGUGW8KxBugAVg9xJifgL7wEd77dt7ZfPv2pimUQOAx8D2H8juAcukXeIBcAdIPGUl9r8HNu2yzTuo7G3gcXADgDHSvllEbAd4DkxV0MKmbFk7A+KtAWNBDACmSZ/SPiKbQPeqogfE7toYvth9YLpWA4BnwLEneA+Yr6JPluBgbKyeh8cx8KxyA2zQFwUBl6jwqXwJI4ZsbF+FvChbGWXFrxQ0uZnQwj38Zgq65EoZE8oE8NX8FtBpWrzDsWM55VrClQywfV4XugoMNy3aw3XYctN8Bz4TBhU47elfq00LLWGENuF40NuhqJAxT7/auo41X9ASdHfoUzBOKCpED3L616nPlzCh46nAtVIGkA5vdRNq/Gn/FybMeLpwbtisMxnyY/ulpsVcwYQlpWVbvxp1hgWVoUcDg5wKDRgiP2Jc8BpgE+tP2vmmRVRgwrzStOtWqptwUSXc1M3lX7xst9YfUIs+A9ZVotq+6howoau0rWf/GRHJ5vC+kU5KAHwSkSlaBGPMDjBpf54Bd0TkMBP8lHPxkE5Ctg2upoRU82/RcwMStwVa0xykD4gR4AfnU9efReR+OF7hYIzZA8btzxPgZkK6aOHO27ex9jO42oaB2YR0xcbFu3B8gkNrm0g4X57K8CUQmSagtXV8BnwNRKYJaG05A06Bg3B8guOAVGOGnAHfReQsLKdwsNq+O7dyBrS5+WdwNXaSwmSRICGdOspwtykiAeFq7GsDRo0xrW0VVtuocytnwA3gdlBWYXGbVGOGnAHQ7m6gtXkNuBeITBPQ2voJ6aShi4eByDQBra33/3NY0n14b51048aYVk2HAVhN486ttyJylL3yvLMlLYN31uv/pCiApDswN5z0k8aYbmCOtcFqmXRubVjNF2aCX6l8L40xpm5ydcNqeKlun2t1Fg/iXhqzieNdHLUZ4l4et5ni3SDhZI53i4wtIO5NUrageLfJOYXFu1HSKTjerbK28Lg3SzsmxLldXgWN88CEIhDvkRmHSLyHphS5OI/NKeLxHpxURvyTR2ejPzxdiwEXAlzz4/O/AIJwJrWPabzKAAAAAElFTkSuQmCC"],$e=Oe.b.div(w||(w=Object(ge.a)(["\n    max-width: 500px;\n    min-height: 400px;\n    width:90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n"]))),et=Oe.b.div(x||(x=Object(ge.a)(["\n    width: 100%;\n    height: 75%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),tt=Oe.b.div(m||(m=Object(ge.a)(["\n    width: 100%;\n    min-height: 70px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),nt=Oe.b.img(v||(v=Object(ge.a)(["\n    width: 50px;\n    height: 50px;\n    margin: 20px;\n    ","\n"])),(function(e){return e.isPicked?"border: 2px dotted black;":""})),rt=Oe.b.div(B||(B=Object(ge.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    margin: 20px;\n    background-color: ",";\n    ","\n"])),(function(e){return e.color}),(function(e){return e.isPicked?"padding:5px;":""})),at=Oe.b.input(C||(C=Object(ge.a)(["\n    width: 200px;\n    height: 10px;\n    margin: 20px;\n"]))),ct=S.a.memo((function(e){var t=e.handleColorPick,n=e.handleLineWidthPick,r=e.handleInstrumentPick,a=e.pickedInstrument,c=e.pickedColor;return Object(Te.jsxs)($e,{children:[Object(Te.jsx)("span",{children:"Colors:"}),Object(Te.jsx)(et,{children:We.map((function(e){return Object(Te.jsx)(rt,{isPicked:e===c,id:e,onClick:t,color:e})}))}),Object(Te.jsx)("span",{children:"Tools:"}),Object(Te.jsx)(tt,{children:qe.map((function(e,t){return Object(Te.jsx)(nt,{isPicked:t.toString()===a,src:e,id:t.toString(),onClick:r})}))}),Object(Te.jsx)("span",{children:"Thickness:"}),Object(Te.jsx)(at,{defaultValue:1,min:1,max:20,step:1,type:"range",onChange:n})]})})),it=function(){var e=Object(k.useRef)(null),t=Object(k.useState)(),n=Object(ve.a)(t,2),r=n[0],a=n[1],c=Object(k.useState)(!1),i=Object(ve.a)(c,2),o=i[0],s=i[1],u=Object(k.useState)({offsetX:0,offsetY:0}),l=Object(ve.a)(u,2),d=l[0],A=l[1],b=Object(k.useState)(),f=Object(ve.a)(b,2),p=f[0],j=f[1],h=Object(k.useState)("black"),g=Object(ve.a)(h,2),O=g[0],w=g[1],x=Object(k.useState)("0"),m=Object(ve.a)(x,2),v=m[0],B=m[1],C=Object(k.useState)("1"),E=Object(ve.a)(C,2),S=E[0],R=E[1],y=Object(k.useState)(500),P=Object(ve.a)(y,2),T=P[0],D=P[1],L=Object(me.g)(),M=Object(I.b)(),U=Object(I.c)(ye),G=U.username,F=U.isLoggedIn,X=U.uid;Object(k.useEffect)((function(){F||L.push(Re.LOGIN)}),[F]),Object(k.useLayoutEffect)((function(){return window.onresize=function(){D(window.outerWidth<500?.95*window.outerWidth:500)},e&&e.current&&a(e.current.getContext("2d")),function(){window.onresize=null}}),[]);var H=Object(k.useCallback)((function(){p&&(null===r||void 0===r||r.putImageData(p,0,0))}),[p]),Q=function(t){var n=t.nativeEvent;if(n instanceof TouchEvent&&e.current){var r=n.touches[0],a=r.pageX,c=r.pageY;A({offsetX:a-e.current.offsetLeft,offsetY:c-e.current.offsetTop})}else{var i=n,o=i.offsetX,u=i.offsetY;A({offsetX:o,offsetY:u})}H(),s(!0)},K=function(t){var n=t.nativeEvent;if(o){var a;if(n instanceof TouchEvent&&e.current){var c=n.touches[0],i=c.pageX,s=c.pageY;a={offsetX:i-e.current.offsetLeft,offsetY:s-e.current.offsetTop}}else{var u=n;a={offsetX:u.offsetX,offsetY:u.offsetY}}!function(t){var n=t.offsetX,a=t.offsetY,c=d.offsetX,i=d.offsetY;if(r&&e.current){var o=c-n,s=i-a,u=Math.sqrt(o*o+s*s);switch(r.strokeStyle=O,r.lineCap="round",r.lineWidth=parseInt(S,10),r.beginPath(),v){case"0":r.moveTo(c,i),r.lineTo(n,a),A({offsetX:n,offsetY:a});break;case"1":r.clearRect(0,0,e.current.width,e.current.height),H(),r.moveTo(c,i),r.lineTo(n,a);break;case"2":r.clearRect(0,0,e.current.width,e.current.height),H(),r.rect(c,i,n-c,a-i);break;case"3":r.clearRect(0,0,e.current.width,e.current.height),H(),r.arc(c,i,u,0,2*Math.PI)}r.stroke()}}(a)}},z=function(){s(!1),r&&e.current&&j(r.getImageData(0,0,e.current.width,e.current.height))},V=function(){var t=Object(Y.a)(N.a.mark((function t(){var n,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=null===(n=e.current)||void 0===n?void 0:n.toDataURL())&&(M(ne({img:r,uid:X,username:G})),L.push(Re.HOME));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=Object(k.useCallback)((function(e){R(e.target.value)}),[]),J=Object(k.useCallback)((function(e){B(e.currentTarget.id)}),[]),Z=Object(k.useCallback)((function(e){w(e.currentTarget.id)}),[]);return Object(Te.jsxs)(Je,{isPainting:o,children:[Object(Te.jsx)("span",{children:"Draw here"}),Object(Te.jsx)(_e,{ref:e,onMouseMove:K,onTouchStart:Q,onTouchMove:K,onTouchEnd:z,onMouseDown:Q,onMouseLeave:z,onMouseUp:z,id:"canvas",width:T,height:T}),Object(Te.jsx)(ct,{pickedColor:O,pickedInstrument:v,handleLineWidthPick:_,handleColorPick:Z,handleInstrumentPick:J}),Object(Te.jsxs)(Ze,{children:[Object(Te.jsx)(Me,{to:"/home",children:"Go back"}),Object(Te.jsx)(Ce,{isDanger:!0,onClick:function(){r&&e&&e.current&&r.clearRect(0,0,e.current.width,e.current.height),j(void 0)},children:"Clear canvas"}),Object(Te.jsx)(Ce,{onClick:V,children:"Save your drawing"})]})]})},ot=n.p+"static/media/loader.9c4c2b52.gif",st=Oe.b.img.attrs({src:ot})(E||(E=Object(ge.a)(["\n    position: absolute;\n    top: calc(50% - 32px);\n    left: calc(50% - 32px);\n"]))),ut=function(e){var t=e.children,n=Object(I.b)();return Object(k.useEffect)((function(){z.onAuthStateChanged((function(e){n(e?de(e.uid):de())}))}),[]),Object(I.c)(ye).isPending?Object(Te.jsx)(st,{}):t},lt=function(){return Object(Te.jsx)(ut,{children:Object(Te.jsx)(xe.a,{children:Object(Te.jsxs)(me.d,{children:[Object(Te.jsx)(me.a,{from:Re.ROOT,to:Re.HOME,exact:!0}),Object(Te.jsx)(me.b,{path:Re.LOGIN,children:Object(Te.jsx)(De,{})}),Object(Te.jsx)(me.b,{path:Re.REGISTER,children:Object(Te.jsx)(Ye,{})}),Object(Te.jsx)(me.b,{component:Ve,path:Re.HOME}),Object(Te.jsx)(me.b,{component:it,path:Re.PAINT})]})})})};y.a.render(Object(Te.jsxs)(S.a.StrictMode,{children:[Object(Te.jsx)(we,{}),Object(Te.jsx)(I.a,{store:he,children:Object(Te.jsx)(lt,{})})]}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.64e2950e.chunk.js.map