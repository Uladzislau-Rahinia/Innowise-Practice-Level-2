(this["webpackJsonpinnowise-practice-level-2"]=this["webpackJsonpinnowise-practice-level-2"]||[]).push([[0],{63:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o,s,u,l,A,d,b,p,f,j,h,g,O,w,x,m,v,E,C=n(2),I=n.n(C),B=n(32),S=n.n(B),R=n(19),k=n(24),y=n(26),P=n(27),T=n(5),M=n.n(T),D=n(12),Y=n(49),U=Object({NODE_ENV:"production",PUBLIC_URL:"/Innowise-Practice-Level-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_ID:"1:5717546368:web:99ac8e7d671e464fce5d65",REACT_APP_AUTH_DOMAIN:"innowise-practice-level-2.firebaseapp.com",REACT_APP_DATABASE_URL:"https://innowise-practice-level-2-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_API_KEY:"AIzaSyD7Rwe9RDZoMK1n_JP8f-_ZhInMlJtDmCk",REACT_APP_MESSAGING_SENDER_ID:"5717546368",REACT_APP_PROJECT_ID:"innowise-practice-level-2",REACT_APP_STORAGE_BUCKET:"innowise-practice-level-2.appspot.com"}),L=U.REACT_APP_FIREBASE_API_KEY,N=U.REACT_APP_AUTH_DOMAIN,G=U.REACT_APP_DATABASE_URL,F={apiKey:L,authDomain:N,projectId:U.REACT_APP_PROJECT_ID,storageBucket:U.REACT_APP_STORAGE_BUCKET,messagingSenderId:U.REACT_APP_MESSAGING_SENDER_ID,appId:U.REACT_APP_APP_ID,databaseURL:G},Q=Y.a.initializeApp(F),H=Q.database(),X=Q.auth(),K=Q.storage(),z=function(){var e=Object(D.a)(M.a.mark((function e(t,n){var r,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H.ref("users/".concat(t)),(a={username:""}).username=n,e.abrupt("return",r.update(a).then((function(){return!0})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(D.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=H.ref(t),e.abrupt("return",n.get().then((function(e){if(console.log(e),e.exists())return e.val();throw"No data availible"})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(D.a)(M.a.mark((function e(t,n){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H.ref(n),e.abrupt("return",r.push(t).then((function(){return!0})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(D.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=H.ref("users/".concat(t,"/username")),e.abrupt("return",n.get().then((function(e){if(console.log(e),e.exists())return e.val();throw"No data availible"})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=n(68),V=function(){var e=Object(D.a)(M.a.mark((function e(t,n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.ref().child("images/".concat(n,"/").concat(Object(Z.a)(),".png")).putString(t,"data_url").then((function(e){return console.log(e),e.metadata.fullPath})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(D.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.ref().child(t).getDownloadURL().then((function(e){return e})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=Object(k.b)("postsFeed/fetchPosts",Object(D.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("posts");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),ee=Object(k.b)("postsFeed/savePost",function(){var e=Object(D.a)(M.a.mark((function e(t){var n,r,a,c,i,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.img,r=t.uid,a=t.username,e.next=3,V(n,r);case 3:return c=e.sent,e.next=6,q(c);case 6:return i=e.sent,o={path:i,author:a,date:new Date(Date.now()).toString()},e.next=10,J(o,"posts");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te=Object(k.c)({name:"postsFeed",initialState:[],reducers:{},extraReducers:(r={},Object(P.a)(r,$.fulfilled.toString(),(function(e,t){return Object.entries(t.payload).map((function(e){return e[1]}))})),Object(P.a)(r,$.rejected.toString(),(function(e,t){console.log(t)})),r)}).reducer,ne=n(23),re={"auth/invalid-email":"Enter valid email please","auth/user-not-found":"User with this email not found","auth/wrong-password":"Wrong password, try again","auth/weak-password":"Password is too weak, it should be at least 6 characters","auth/email-already-in-use":"This email is already taken",default:"Something went wrong :C"},ae=function(){var e=Object(D.a)(M.a.mark((function e(t,n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.signInWithEmailAndPassword(t,n).then((function(e){return e.user?e.user.uid:""})).catch((function(e){throw re[e.code]?re[e.code]:re.default})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(D.a)(M.a.mark((function e(t,n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.createUserWithEmailAndPassword(t,n).then((function(e){return e.user?e.user.uid:""})).catch((function(e){throw re[e.code]?re[e.code]:re.default})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.signOut());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=Object(k.b)("user/signUp",function(){var e=Object(D.a)(M.a.mark((function e(t){var n,r,a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a=t.username,e.next=3,ce(n,r);case 3:return c=e.sent,e.next=6,z(c,a);case 6:return e.abrupt("return",{uid:c,username:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se=Object(k.b)("user/signIn",function(){var e=Object(D.a)(M.a.mark((function e(t){var n,r,a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,ae(n,r);case 3:return a=e.sent,e.next=6,W(a);case 6:return c=e.sent,e.abrupt("return",{uid:a,username:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=Object(k.b)("user/logOut",Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:case"end":return e.stop()}}),e)})))),le=Object(k.c)({name:"user",initialState:{uid:"",username:"",isLoggedIn:!1,isError:!1,errorMessage:""},reducers:{clearState:function(e){return Object(ne.a)(Object(ne.a)({},e),{},{isError:!1})}},extraReducers:(a={},Object(P.a)(a,se.fulfilled.toString(),(function(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{uid:t.payload.uid,username:t.payload.username,isLoggedIn:!0})})),Object(P.a)(a,se.rejected.toString(),(function(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{isError:!0,errorMessage:t.error.message})})),Object(P.a)(a,oe.fulfilled.toString(),(function(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{uid:t.payload.uid,username:t.payload.username,isLoggedIn:!0})})),Object(P.a)(a,oe.rejected.toString(),(function(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{isError:!0,errorMessage:t.error.message})})),Object(P.a)(a,ue.fulfilled.toString(),(function(e){return Object(ne.a)(Object(ne.a)({},e),{},{isLoggedIn:!1})})),a)}),Ae=le.actions.clearState,de=le.reducer,be=Object(y.c)({postsFeed:te,userData:de}),pe=Object(k.a)({reducer:be}),fe=n(7),je=n(8),he=Object(je.a)(c||(c=Object(fe.a)(['\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n      monospace;\n  }\n']))),ge=n(28),Oe=n(16),we=n(17),xe=je.b.input(i||(i=Object(fe.a)(["\n  font-family: inherit;\n  height: 30px;\n  border: 3px solid orange;\n  border-radius: 10px;\n  width: 280px;\n  outline: none;\n"]))),me=je.b.button(o||(o=Object(fe.a)(["\n  max-width: 220px;\n  width: 40%;\n  height: 30px;\n  background-color:",";\n  border: 0;\n  border-radius: 10px;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 14px;\n"])),(function(e){return e.isDanger?"red":"orange"})),ve=n(34),Ee=(n(60),function(e){ve.b.error(e,{position:ve.b.POSITION.TOP_CENTER,autoClose:3500})}),Ce=ve.a,Ie={ROOT:"/",HOME:"/home",LOGIN:"/login",REGISTER:"/register",PAINT:"/paint"},Be=function(e){return e.userData},Se=je.b.div(s||(s=Object(fe.a)(['\n  width: 100%;\n  min-height: 100vh;\n  font-family: "Rowdies";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: orange;\n  & > span {\n    color: white;\n    font-size: 50px;\n    margin-bottom: 50px;\n  }\n']))),Re=je.b.div(u||(u=Object(fe.a)(["\n  width: 300px;\n  height: 400px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n  justify-content: space-evenly;\n"]))),ke=n(3),ye=function(){var e=Object(C.useState)(""),t=Object(we.a)(e,2),n=t[0],r=t[1],a=Object(C.useState)(""),c=Object(we.a)(a,2),i=c[0],o=c[1],s=Object(R.c)(Be),u=s.isLoggedIn,l=s.isError,A=s.errorMessage,d=Object(R.b)(),b=Object(Oe.g)(),p=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&""!==i){e.next=3;break}return Ee("Fill all fields please"),e.abrupt("return");case 3:d(se({email:n,password:i}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){u&&(d(Ae()),b.push(Ie.HOME)),l&&(Ee(A),d(Ae()))}),[u,l]),Object(ke.jsxs)(Se,{children:[Object(ke.jsx)("span",{children:"Mini-Paint"}),Object(ke.jsxs)(Re,{children:[Object(ke.jsx)("span",{children:"Please Login"}),Object(ke.jsx)(xe,{onChange:function(e){return r(e.target.value)},value:n,type:"text",placeholder:"E-mail"}),Object(ke.jsx)(xe,{onChange:function(e){return o(e.target.value)},value:i,type:"password",placeholder:"Password"}),Object(ke.jsx)(me,{onClick:p,children:"Sign In"}),Object(ke.jsx)(ge.b,{to:"/register",children:"Dont have an account? Sign Up here!"})]}),Object(ke.jsx)(Ce,{})]})},Pe=je.b.div(l||(l=Object(fe.a)(['\n  width: 100%;\n  min-height: 100vh;\n  font-family: "Rowdies";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: orange;\n  & > span {\n    color: white;\n    font-size: 50px;\n    margin-bottom: 50px;\n  }\n']))),Te=je.b.div(A||(A=Object(fe.a)(["\n  width: 300px;\n  height: 400px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n  justify-content: space-evenly;\n"]))),Me=function(){var e=Object(C.useState)(""),t=Object(we.a)(e,2),n=t[0],r=t[1],a=Object(C.useState)(""),c=Object(we.a)(a,2),i=c[0],o=c[1],s=Object(C.useState)(""),u=Object(we.a)(s,2),l=u[0],A=u[1],d=Object(C.useState)(""),b=Object(we.a)(d,2),p=b[0],f=b[1],j=Object(Oe.g)(),h=Object(R.b)(),g=Object(R.c)(Be),O=g.isError,w=g.isLoggedIn,x=g.errorMessage,m=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&""!==p&&""!==i&&""!==l){e.next=3;break}return Ee("Fill all fields please"),e.abrupt("return");case 3:if(i===l){e.next=6;break}return Ee("Passwords should match"),e.abrupt("return");case 6:h(oe({email:n,password:i,username:p}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){w&&(h(Ae()),j.push(Ie.HOME)),O&&(h(Ae()),Ee(x))})),Object(ke.jsxs)(Pe,{children:[Object(ke.jsx)("span",{children:"Mini-Paint"}),Object(ke.jsxs)(Te,{children:[Object(ke.jsx)("span",{children:"Please Register"}),Object(ke.jsx)(xe,{onChange:function(e){return r(e.target.value)},value:n,type:"text",placeholder:"E-mail"}),Object(ke.jsx)(xe,{onChange:function(e){return f(e.target.value)},value:p,type:"text",placeholder:"Username"}),Object(ke.jsx)(xe,{onChange:function(e){return o(e.target.value)},value:i,type:"password",placeholder:"Password"}),Object(ke.jsx)(xe,{onChange:function(e){return A(e.target.value)},value:l,type:"password",placeholder:"Comfirm password"}),Object(ke.jsx)(me,{onClick:m,children:"Sign Up"}),Object(ke.jsx)(ge.b,{to:"/login",children:"Already have an account? Sign In here!"})]}),Object(ke.jsx)(Ce,{})]})},De=Object(je.b)(ge.b)(d||(d=Object(fe.a)(["\n  max-width: 220px;\n  width: 40%;\n  height: 30px;\n  background-color: orange;\n  border: 0;\n  border-radius: 10px;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n"]))),Ye=je.b.div(b||(b=Object(fe.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Ue=je.b.div(p||(p=Object(fe.a)(["\n  max-width: 768px;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  margin:20px;\n"]))),Le=function(e){return e.postsFeed},Ne=n(66),Ge=n(67),Fe=je.b.div(f||(f=Object(fe.a)(["\n    max-width: 768px;\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n"]))),Qe=je.b.div(j||(j=Object(fe.a)(["\n    min-height: 320px;\n    width: 90%;\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    margin-top:20px;\n\n    & > img {\n        border: 10px solid black;\n        width: 100%;\n    }\n\n    & > div {\n        width: 100%;\n        display:flex;\n        flex-direction: row;\n        justify-content:space-evenly;\n    }\n"]))),He=function(){var e=Object(C.useState)(""),t=Object(we.a)(e,2),n=t[0],r=t[1],a=Object(R.c)(Le),c=Object(C.useMemo)((function(){return(""===n?a.slice():a.filter((function(e){return e.author.toLowerCase().includes(n.toLowerCase())}))).sort((function(e,t){return Object(Ne.a)(new Date(e.date),new Date(t.date))})).map((function(e){return Object(ke.jsxs)(Qe,{children:[Object(ke.jsx)("img",{src:e.path,alt:""}),Object(ke.jsxs)("div",{children:[Object(ke.jsxs)("span",{children:["Author:"," ",e.author]}),Object(ke.jsxs)("span",{children:["Date:"," ",Object(Ge.a)(new Date(Date.now()),new Date(e.date))," ","ago"]})]})]})}))}),[a,n]);return Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(xe,{onChange:function(e){return r(e.target.value)},value:n,type:"text",placeholder:"Filter by user"}),Object(ke.jsx)(Fe,{children:c})]})},Xe=function(){var e=Object(Oe.g)(),t=Object(R.c)(Be).isLoggedIn,n=Object(R.b)();Object(C.useEffect)((function(){t?n($()):e.push(Ie.LOGIN)}),[t]);var r=function(){var e=Object(D.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(ue());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ke.jsxs)(Ye,{children:[Object(ke.jsxs)(Ue,{children:[Object(ke.jsx)(De,{to:Ie.PAINT,children:"+ New painting"}),Object(ke.jsx)(me,{onClick:r,children:"Log Out"})]}),Object(ke.jsx)(He,{})]})},Ke=je.b.canvas(h||(h=Object(fe.a)(["\n    border: 5px solid black;\n"]))),ze=je.b.div(g||(g=Object(fe.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items:center;\n    min-height: 100vh;\n\n    & > span {\n        font-size: 50px;\n        font-weight: bolder;\n    }\n"]))),_e=["black","red","green","blue","yellow","purple","pink","cyan","brown","orange","silver","gold","lime"],Je=["data:image/png;base64,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","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGcSURBVHic5dK9TQNBEIDRt0BGAyAyR/RARAM0QUAHroBaKMANEJETIiERAl0sgY2ELGP77Lv9nXCieZ8mxBj1MiGEGea4wwKPZ3lPSjchhGs842K1eoDQwwdswP/O10mGe5LOFjwsmv6AHfhv3DT7AXvgb2OMH00G2BP/Bs0FGIKnsQBD8TQU4BA8jQQ4FE8DAY7BU3mAY/FUHGAMPJUGGAtPhQHGxFNZgLHxVBRgCjyVBJgKTwUBpsRTeICp8RQcIAWeQgOkwlNggJR4CguQGk9BAXLgKSRALjwFBMiJJ3OA3HgyBigBT6YApeDJEKAkPIkDlIYnYYAS8SQKUCqeBAFKxjNxgNLxTBigBjwTBagFzwQBasIzcoDa8IwYoEY8IwWoFc8IAWrGc2SA2vEcEaAFPAcGaAXPAQFawjMwQGt4BgRoEc+eAVrFs0eAlvHsCNA6ni0BesDzT4Be8GwI0BOetQC94fkToEc8qwC94iFghhcd4ll+wFyneJYf8InLtX0XeJYfsFjbdYOHU7ziHFd4wn2M8T3rVQnnBxnUc+IPCTq6AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAApXAAAKVwGn8z/gAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAABJQTFRF////AAAAAAAAAAAAAAAAAAAAZJzAmgAAAAV0Uk5TAECQsMTcoE5tAAAAN0lEQVRIS2NgGAUjCSgRAAyhBABDqLMxHmACVCCAzwGMowpGFYwqGCgFBDMvoexPsAAZBSMJAACc1z+f7W9pCwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJ1SURBVHic7Zu9ahtBFIW/2biJIVUiAnZp3PoJXLlIJxBWmSqFX0MPY0gtgTsVwYXRQwgM28hgsJtE2I2jm2JW0Wq9a8nyzt6RZw4cthGrew6z83fvNSKCSxhjdoET4ADYA/az55wANzlOsuc18EtEHpzG58IAY8xnoA10gG/Axw1f9QgMgQFwISL39USYg4jUQmAHOAMugSdAauZT9u4zYKe2uGsS3wXGDkRXcQx01Q0AjoFRg8KLHAHHjRsAtIC+ovAi+0CrEQOAIyD1QHSRKXDk1ADgFJh6ILaKU+C0dgMAA/SAmQciV3GWxWpqMSATf+6BsNfyfB0T1jGg54GYTdl7kwHYb34bhn0VZ6yYE1bN9j5PeOtyygurQ5X4Fn4udZsypWKfUGWAT5ucuthfywDs9lY7WFd8tm0uM0Bzb++aoxcNwJ7qtIN0zW6pAdjzfJNHWi2Oyd0nJCzwAzjk/eMQqxVgyYDvzceihv9ajYjM7/BugQ96MTWKv8BXEbmfj4A24YgHq7UNi0+goxeLGjpgj7q7wB2bX11vKx6BLwk2aRGaeLCaTxJsxiZUHCQs0lMhYi/B5upCxX4cAQRugAF+A5+0I1HCn2T1b943EmwxQqi4iQYQDWCiHYUiJnEEYKuxQsV1PA6LrcMbakejgKGIPMw3QgPVUHQwgHgpai9FxVZgXunG1CiuMs1LeYGfSsFoYKE19NRYTI7G9HgskIglMrFIKpbJVZsQbqFkzoRwS2UzA8Iuls6ZEGa5fMmc4PPE6KZhomR1SD0QW2SK65aZnAnhNk0VjAizba7EiDAbJwsmbGXrbPDN004MWPoDz9vn/wFoczxjtZ8dQAAAAABJRU5ErkJggg=="],We=je.b.div(O||(O=Object(fe.a)(["\n    max-width: 500px;\n    min-height: 400px;\n    width:90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n"]))),Ze=je.b.div(w||(w=Object(fe.a)(["\n    width: 100%;\n    height: 75%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),Ve=je.b.div(x||(x=Object(fe.a)(["\n    width: 100%;\n    min-height: 70px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),qe=je.b.img(m||(m=Object(fe.a)(["\n    width: 50px;\n    height: 50px;\n    margin: 20px;\n    ","\n"])),(function(e){return e.isPicked?"border: 2px dotted black;":""})),$e=je.b.div(v||(v=Object(fe.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    margin: 20px;\n    background-color: ",";\n    ","\n"])),(function(e){return e.color}),(function(e){return e.isPicked?"padding:5px;":""})),et=je.b.input(E||(E=Object(fe.a)(["\n    width: 200px;\n    height: 10px;\n    margin: 20px;\n"]))),tt=I.a.memo((function(e){var t=e.handleColorPick,n=e.handleLineWidthPick,r=e.handleInstrumentPick,a=e.pickedInstrument,c=e.pickedColor;return Object(ke.jsxs)(We,{children:[Object(ke.jsx)(Ze,{children:_e.map((function(e){return Object(ke.jsx)($e,{isPicked:e===c,id:e,onClick:t,color:e})}))}),Object(ke.jsx)(Ve,{children:Je.map((function(e,t){return Object(ke.jsx)(qe,{isPicked:t.toString()===a,src:e,id:t.toString(),onClick:r})}))}),Object(ke.jsx)(et,{defaultValue:1,min:1,max:20,step:1,type:"range",onChange:n})]})})),nt=function(){var e=Object(C.useRef)(null),t=Object(C.useState)(),n=Object(we.a)(t,2),r=n[0],a=n[1],c=Object(C.useState)(!1),i=Object(we.a)(c,2),o=i[0],s=i[1],u=Object(C.useState)({offsetX:0,offsetY:0}),l=Object(we.a)(u,2),A=l[0],d=l[1],b=Object(C.useState)(),p=Object(we.a)(b,2),f=p[0],j=p[1],h=Object(C.useState)("black"),g=Object(we.a)(h,2),O=g[0],w=g[1],x=Object(C.useState)("0"),m=Object(we.a)(x,2),v=m[0],E=m[1],I=Object(C.useState)("1"),B=Object(we.a)(I,2),S=B[0],k=B[1],y=Object(Oe.g)(),P=Object(R.b)(),T=Object(R.c)(Be),Y=T.username,U=T.isLoggedIn,L=T.uid;Object(C.useEffect)((function(){U||y.push(Ie.LOGIN)}),[U]),Object(C.useLayoutEffect)((function(){e&&e.current&&a(e.current.getContext("2d"))}),[]);var N=Object(C.useCallback)((function(){console.log(f),f&&(null===r||void 0===r||r.putImageData(f,0,0))}),[f]),G=function(e){var t=e.nativeEvent,n=t.offsetX,r=t.offsetY;d({offsetX:n,offsetY:r}),N(),s(!0)},F=function(t){var n=t.nativeEvent;if(o){var a=n;!function(t){var n=t.offsetX,a=t.offsetY,c=A.offsetX,i=A.offsetY;if(r){var o=c-n,s=i-a,u=Math.sqrt(o*o+s*s);switch(r.strokeStyle=O,r.lineCap="round",r.lineWidth=parseInt(S,10),r.beginPath(),v){case"0":r.moveTo(c,i),r.lineTo(n,a),d({offsetX:n,offsetY:a});break;case"1":r.clearRect(0,0,e.current.width,e.current.height),N(),r.moveTo(c,i),r.lineTo(n,a);break;case"2":r.clearRect(0,0,e.current.width,e.current.height),N(),r.rect(c,i,n-c,a-i);break;case"3":r.clearRect(0,0,e.current.width,e.current.height),N(),r.arc(c,i,u,0,2*Math.PI)}r.stroke()}}({offsetX:a.offsetX,offsetY:a.offsetY})}},Q=function(){s(!1),j(r.getImageData(0,0,e.current.width,e.current.height))},H=function(){var t=Object(D.a)(M.a.mark((function t(){var n,r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=null===(n=e.current)||void 0===n?void 0:n.toDataURL())&&(P(ee({img:r,uid:L,username:Y})),y.push(Ie.HOME));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=Object(C.useCallback)((function(e){k(e.target.value)}),[]),K=Object(C.useCallback)((function(e){E(e.currentTarget.id)}),[]),z=Object(C.useCallback)((function(e){w(e.currentTarget.id)}),[]);return Object(ke.jsxs)(ze,{children:[Object(ke.jsx)("span",{children:"Draw here"}),Object(ke.jsx)(Ke,{ref:e,onMouseMove:F,onTouchStart:G,onTouchMove:F,onTouchEnd:Q,onMouseDown:G,onMouseLeave:Q,onMouseUp:Q,id:"canvas",width:window.outerWidth<500?.95*window.outerWidth:500,height:window.outerWidth<500?.95*window.outerWidth:500}),Object(ke.jsx)(tt,{pickedColor:O,pickedInstrument:v,handleLineWidthPick:X,handleColorPick:z,handleInstrumentPick:K}),Object(ke.jsxs)(Ue,{children:[Object(ke.jsx)(De,{to:"/home",children:"Go back"}),Object(ke.jsx)(me,{isDanger:!0,onClick:function(){r&&e&&e.current&&r.clearRect(0,0,e.current.width,e.current.height)},children:"Clear canvas"}),Object(ke.jsx)(me,{onClick:H,children:"Save your drawing"})]})]})},rt=function(){return Object(ke.jsx)(ge.a,{children:Object(ke.jsxs)(Oe.d,{children:[Object(ke.jsx)(Oe.a,{from:Ie.ROOT,to:Ie.HOME,exact:!0}),Object(ke.jsx)(Oe.b,{path:Ie.LOGIN,children:Object(ke.jsx)(ye,{})}),Object(ke.jsx)(Oe.b,{path:Ie.REGISTER,children:Object(ke.jsx)(Me,{})}),Object(ke.jsx)(Oe.b,{path:Ie.HOME,children:Object(ke.jsx)(Xe,{})}),Object(ke.jsx)(Oe.b,{path:Ie.PAINT,children:Object(ke.jsx)(nt,{})})]})})};S.a.render(Object(ke.jsxs)(I.a.StrictMode,{children:[Object(ke.jsx)(he,{}),Object(ke.jsx)(R.a,{store:pe,children:Object(ke.jsx)(rt,{})})]}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.35639f9a.chunk.js.map