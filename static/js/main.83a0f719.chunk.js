(this["webpackJsonpinnowise-practice-level-2"]=this["webpackJsonpinnowise-practice-level-2"]||[]).push([[0],{63:function(e,n,t){"use strict";t.r(n);var r,a,c,i,o,s,u,l,d,A,b,f,p,j,h,g,O,x,w,m,v,E,C,I=t(2),B=t.n(I),S=t(32),R=t.n(S),k=t(19),y=t(24),P=t(26),T=t(27),M=t(5),Y=t.n(M),D=t(12),L=t(49),U=Object({NODE_ENV:"production",PUBLIC_URL:"/Innowise-Practice-Level-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_ID:"1:5717546368:web:99ac8e7d671e464fce5d65",REACT_APP_AUTH_DOMAIN:"innowise-practice-level-2.firebaseapp.com",REACT_APP_DATABASE_URL:"https://innowise-practice-level-2-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_API_KEY:"AIzaSyD7Rwe9RDZoMK1n_JP8f-_ZhInMlJtDmCk",REACT_APP_MESSAGING_SENDER_ID:"5717546368",REACT_APP_PROJECT_ID:"innowise-practice-level-2",REACT_APP_STORAGE_BUCKET:"innowise-practice-level-2.appspot.com"}),N=U.REACT_APP_FIREBASE_API_KEY,G=U.REACT_APP_AUTH_DOMAIN,F=U.REACT_APP_DATABASE_URL,Q={apiKey:N,authDomain:G,projectId:U.REACT_APP_PROJECT_ID,storageBucket:U.REACT_APP_STORAGE_BUCKET,messagingSenderId:U.REACT_APP_MESSAGING_SENDER_ID,appId:U.REACT_APP_APP_ID,databaseURL:F},H=L.a.initializeApp(Q),X=H.database(),K=H.auth(),z=H.storage(),_=function(){var e=Object(D.a)(Y.a.mark((function e(n,t){var r,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=X.ref("users/".concat(n)),(a={username:""}).username=t,e.abrupt("return",r.update(a).then((function(){return!0})));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),J=function(){var e=Object(D.a)(Y.a.mark((function e(n){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=X.ref(n),e.abrupt("return",t.get().then((function(e){if(console.log(e),e.exists())return e.val();throw"No data availible"})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=Object(D.a)(Y.a.mark((function e(n,t){var r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=X.ref(t),e.abrupt("return",r.push(n).then((function(){return!0})));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(D.a)(Y.a.mark((function e(n){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=X.ref("users/".concat(n,"/username")),e.abrupt("return",t.get().then((function(e){if(console.log(e),e.exists())return e.val();throw"No data availible"})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=t(68),q=function(){var e=Object(D.a)(Y.a.mark((function e(n,t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.ref().child("images/".concat(t,"/").concat(Object(V.a)(),".png")).putString(n,"data_url").then((function(e){return console.log(e),e.metadata.fullPath})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),$=function(){var e=Object(D.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.ref().child(n).getDownloadURL().then((function(e){return e})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=Object(y.b)("postsFeed/fetchPosts",Object(D.a)(Y.a.mark((function e(){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("posts");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))),ne=Object(y.b)("postsFeed/savePost",function(){var e=Object(D.a)(Y.a.mark((function e(n){var t,r,a,c,i,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.img,r=n.uid,a=n.username,e.next=3,q(t,r);case 3:return c=e.sent,e.next=6,$(c);case 6:return i=e.sent,o={path:i,author:a,date:new Date(Date.now()).toString()},e.next=10,W(o,"posts");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),te=Object(y.c)({name:"postsFeed",initialState:[],reducers:{},extraReducers:(r={},Object(T.a)(r,ee.fulfilled.toString(),(function(e,n){return Object.entries(n.payload).map((function(e){return e[1]}))})),Object(T.a)(r,ee.rejected.toString(),(function(e,n){console.log(n)})),r)}).reducer,re=t(23),ae={"auth/invalid-email":"Enter valid email please","auth/user-not-found":"User with this email not found","auth/wrong-password":"Wrong password, try again","auth/weak-password":"Password is too weak, it should be at least 6 characters","auth/email-already-in-use":"This email is already taken",default:"Something went wrong :C"},ce=function(){var e=Object(D.a)(Y.a.mark((function e(n,t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.signInWithEmailAndPassword(n,t).then((function(e){return e.user?e.user.uid:""})).catch((function(e){throw ae[e.code]?ae[e.code]:ae.default})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(D.a)(Y.a.mark((function e(n,t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.createUserWithEmailAndPassword(n,t).then((function(e){return e.user?e.user.uid:""})).catch((function(e){throw ae[e.code]?ae[e.code]:ae.default})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(D.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.signOut());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=Object(y.b)("user/signUp",function(){var e=Object(D.a)(Y.a.mark((function e(n){var t,r,a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,a=n.username,e.next=3,ie(t,r);case 3:return c=e.sent,e.next=6,_(c,a);case 6:return e.abrupt("return",{uid:c,username:a});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),ue=Object(y.b)("user/signIn",function(){var e=Object(D.a)(Y.a.mark((function e(n){var t,r,a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,e.next=3,ce(t,r);case 3:return a=e.sent,e.next=6,Z(a);case 6:return c=e.sent,e.abrupt("return",{uid:a,username:c});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),le=Object(y.b)("user/logOut",Object(D.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:case"end":return e.stop()}}),e)})))),de=Object(y.c)({name:"user",initialState:{uid:"",username:"",isLoggedIn:!1,isError:!1,errorMessage:""},reducers:{clearState:function(e){return Object(re.a)(Object(re.a)({},e),{},{isError:!1})}},extraReducers:(a={},Object(T.a)(a,ue.fulfilled.toString(),(function(e,n){return Object(re.a)(Object(re.a)({},e),{},{uid:n.payload.uid,username:n.payload.username,isLoggedIn:!0})})),Object(T.a)(a,ue.rejected.toString(),(function(e,n){return Object(re.a)(Object(re.a)({},e),{},{isError:!0,errorMessage:n.error.message})})),Object(T.a)(a,se.fulfilled.toString(),(function(e,n){return Object(re.a)(Object(re.a)({},e),{},{uid:n.payload.uid,username:n.payload.username,isLoggedIn:!0})})),Object(T.a)(a,se.rejected.toString(),(function(e,n){return Object(re.a)(Object(re.a)({},e),{},{isError:!0,errorMessage:n.error.message})})),Object(T.a)(a,le.fulfilled.toString(),(function(e){return Object(re.a)(Object(re.a)({},e),{},{isLoggedIn:!1})})),a)}),Ae=de.actions.clearState,be=de.reducer,fe=Object(P.c)({postsFeed:te,userData:be}),pe=Object(y.a)({reducer:fe}),je=t(7),he=t(8),ge=Object(he.a)(c||(c=Object(je.a)(['\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n      monospace;\n  }\n']))),Oe=t(28),xe=t(16),we=t(17),me=he.b.input(i||(i=Object(je.a)(["\n  font-family: inherit;\n  height: 30px;\n  border: 3px solid orange;\n  border-radius: 10px;\n  width: 280px;\n  outline: none;\n"]))),ve=he.b.button(o||(o=Object(je.a)(["\n  max-width: 220px;\n  width: 40%;\n  height: 30px;\n  background-color:",";\n  border: 0;\n  border-radius: 10px;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  font-size: 14px;\n"])),(function(e){return e.isDanger?"red":"orange"})),Ee=t(34),Ce=(t(60),function(e){Ee.b.error(e,{position:Ee.b.POSITION.TOP_CENTER,autoClose:3500})}),Ie=Ee.a,Be={ROOT:"/",HOME:"/home",LOGIN:"/login",REGISTER:"/register",PAINT:"/paint"},Se=function(e){return e.userData},Re=he.b.div(s||(s=Object(je.a)(['\n  width: 100%;\n  min-height: 100vh;\n  font-family: "Rowdies";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: orange;\n  & > span {\n    color: white;\n    font-size: 50px;\n    margin-bottom: 50px;\n  }\n']))),ke=he.b.div(u||(u=Object(je.a)(["\n  width: 300px;\n  height: 400px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n  justify-content: space-evenly;\n"]))),ye=t(3),Pe=function(){var e=Object(I.useState)(""),n=Object(we.a)(e,2),t=n[0],r=n[1],a=Object(I.useState)(""),c=Object(we.a)(a,2),i=c[0],o=c[1],s=Object(k.c)(Se),u=s.isLoggedIn,l=s.isError,d=s.errorMessage,A=Object(k.b)(),b=Object(xe.g)(),f=function(){var e=Object(D.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t&&""!==i){e.next=3;break}return Ce("Fill all fields please"),e.abrupt("return");case 3:A(ue({email:t,password:i}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.useEffect)((function(){u&&(A(Ae()),b.push(Be.HOME)),l&&(Ce(d),A(Ae()))}),[u,l]),Object(ye.jsxs)(Re,{children:[Object(ye.jsx)("span",{children:"Mini-Paint"}),Object(ye.jsxs)(ke,{children:[Object(ye.jsx)("span",{children:"Please Login"}),Object(ye.jsx)(me,{onChange:function(e){return r(e.target.value)},value:t,type:"text",placeholder:"E-mail"}),Object(ye.jsx)(me,{onChange:function(e){return o(e.target.value)},value:i,type:"password",placeholder:"Password"}),Object(ye.jsx)(ve,{onClick:f,children:"Sign In"}),Object(ye.jsx)(Oe.b,{to:"/register",children:"Dont have an account? Sign Up here!"})]}),Object(ye.jsx)(Ie,{})]})},Te=he.b.div(l||(l=Object(je.a)(['\n  width: 100%;\n  min-height: 100vh;\n  font-family: "Rowdies";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: orange;\n  & > span {\n    color: white;\n    font-size: 50px;\n    margin-bottom: 50px;\n  }\n']))),Me=he.b.div(d||(d=Object(je.a)(["\n  width: 300px;\n  height: 400px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: white;\n  justify-content: space-evenly;\n"]))),Ye=function(){var e=Object(I.useState)(""),n=Object(we.a)(e,2),t=n[0],r=n[1],a=Object(I.useState)(""),c=Object(we.a)(a,2),i=c[0],o=c[1],s=Object(I.useState)(""),u=Object(we.a)(s,2),l=u[0],d=u[1],A=Object(I.useState)(""),b=Object(we.a)(A,2),f=b[0],p=b[1],j=Object(xe.g)(),h=Object(k.b)(),g=Object(k.c)(Se),O=g.isError,x=g.isLoggedIn,w=g.errorMessage,m=function(){var e=Object(D.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t&&""!==f&&""!==i&&""!==l){e.next=3;break}return Ce("Fill all fields please"),e.abrupt("return");case 3:if(i===l){e.next=6;break}return Ce("Passwords should match"),e.abrupt("return");case 6:h(se({email:t,password:i,username:f}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.useEffect)((function(){x&&(h(Ae()),j.push(Be.HOME)),O&&(h(Ae()),Ce(w))})),Object(ye.jsxs)(Te,{children:[Object(ye.jsx)("span",{children:"Mini-Paint"}),Object(ye.jsxs)(Me,{children:[Object(ye.jsx)("span",{children:"Please Register"}),Object(ye.jsx)(me,{onChange:function(e){return r(e.target.value)},value:t,type:"text",placeholder:"E-mail"}),Object(ye.jsx)(me,{onChange:function(e){return p(e.target.value)},value:f,type:"text",placeholder:"Username"}),Object(ye.jsx)(me,{onChange:function(e){return o(e.target.value)},value:i,type:"password",placeholder:"Password"}),Object(ye.jsx)(me,{onChange:function(e){return d(e.target.value)},value:l,type:"password",placeholder:"Comfirm password"}),Object(ye.jsx)(ve,{onClick:m,children:"Sign Up"}),Object(ye.jsx)(Oe.b,{to:"/login",children:"Already have an account? Sign In here!"})]}),Object(ye.jsx)(Ie,{})]})},De=Object(he.b)(Oe.b)(A||(A=Object(je.a)(["\n  max-width: 220px;\n  width: 40%;\n  height: 30px;\n  background-color: orange;\n  border: 0;\n  border-radius: 10px;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n"]))),Le=he.b.div(b||(b=Object(je.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Ue=he.b.div(f||(f=Object(je.a)(["\n  max-width: 768px;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  margin:20px;\n"]))),Ne=function(e){return e.postsFeed},Ge=t(66),Fe=t(67),Qe=he.b.div(p||(p=Object(je.a)(["\n    max-width: 768px;\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n"]))),He=he.b.div(j||(j=Object(je.a)(["\n    min-height: 320px;\n    width: 90%;\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    margin-top:20px;\n\n    & > img {\n        border: 10px solid black;\n        width: 100%;\n    }\n\n    & > div {\n        width: 100%;\n        display:flex;\n        flex-direction: row;\n        justify-content:space-evenly;\n    }\n"]))),Xe=function(){var e=Object(I.useState)(""),n=Object(we.a)(e,2),t=n[0],r=n[1],a=Object(k.c)(Ne),c=Object(I.useMemo)((function(){return(""===t?a.slice():a.filter((function(e){return e.author.toLowerCase().includes(t.toLowerCase())}))).sort((function(e,n){return Object(Ge.a)(new Date(e.date),new Date(n.date))})).map((function(e){return Object(ye.jsxs)(He,{children:[Object(ye.jsx)("img",{src:e.path,alt:""}),Object(ye.jsxs)("div",{children:[Object(ye.jsxs)("span",{children:["Author:"," ",e.author]}),Object(ye.jsxs)("span",{children:["Date:"," ",Object(Fe.a)(new Date(Date.now()),new Date(e.date))," ","ago"]})]})]})}))}),[a,t]);return Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsx)(me,{onChange:function(e){return r(e.target.value)},value:t,type:"text",placeholder:"Filter by user"}),Object(ye.jsx)(Qe,{children:c})]})},Ke=function(){var e=Object(xe.g)(),n=Object(k.c)(Se).isLoggedIn,t=Object(k.b)();Object(I.useEffect)((function(){n?t(ee()):e.push(Be.LOGIN)}),[n]);var r=function(){var e=Object(D.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(le());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ye.jsxs)(Le,{children:[Object(ye.jsxs)(Ue,{children:[Object(ye.jsx)(De,{to:Be.PAINT,children:"+ New painting"}),Object(ye.jsx)(ve,{onClick:r,children:"Log Out"})]}),Object(ye.jsx)(Xe,{})]})},ze=he.b.canvas(h||(h=Object(je.a)(["\n    border: 5px solid black;\n"]))),_e=he.b.div(g||(g=Object(je.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items:center;\n    min-height: 100vh;\n    & > span {\n        font-size: 50px;\n        font-weight: bolder;\n    }\n"]))),Je=he.b.div(O||(O=Object(je.a)(["\n  max-width: 768px;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  margin:20px;\n\n  @media(max-width:768px) {\n      flex-direction: column;\n      align-items: center;\n  }\n\n  & > * {\n      margin-bottom: 20px;\n  }\n"]))),We=["black","red","green","blue","yellow","purple","pink","cyan","brown","orange","silver","gold","lime"],Ze=["data:image/png;base64,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","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGcSURBVHic5dK9TQNBEIDRt0BGAyAyR/RARAM0QUAHroBaKMANEJETIiERAl0sgY2ELGP77Lv9nXCieZ8mxBj1MiGEGea4wwKPZ3lPSjchhGs842K1eoDQwwdswP/O10mGe5LOFjwsmv6AHfhv3DT7AXvgb2OMH00G2BP/Bs0FGIKnsQBD8TQU4BA8jQQ4FE8DAY7BU3mAY/FUHGAMPJUGGAtPhQHGxFNZgLHxVBRgCjyVBJgKTwUBpsRTeICp8RQcIAWeQgOkwlNggJR4CguQGk9BAXLgKSRALjwFBMiJJ3OA3HgyBigBT6YApeDJEKAkPIkDlIYnYYAS8SQKUCqeBAFKxjNxgNLxTBigBjwTBagFzwQBasIzcoDa8IwYoEY8IwWoFc8IAWrGc2SA2vEcEaAFPAcGaAXPAQFawjMwQGt4BgRoEc+eAVrFs0eAlvHsCNA6ni0BesDzT4Be8GwI0BOetQC94fkToEc8qwC94iFghhcd4ll+wFyneJYf8InLtX0XeJYfsFjbdYOHU7ziHFd4wn2M8T3rVQnnBxnUc+IPCTq6AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAApXAAAKVwGn8z/gAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAABJQTFRF////AAAAAAAAAAAAAAAAAAAAZJzAmgAAAAV0Uk5TAECQsMTcoE5tAAAAN0lEQVRIS2NgGAUjCSgRAAyhBABDqLMxHmACVCCAzwGMowpGFYwqGCgFBDMvoexPsAAZBSMJAACc1z+f7W9pCwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJ1SURBVHic7Zu9ahtBFIW/2biJIVUiAnZp3PoJXLlIJxBWmSqFX0MPY0gtgTsVwYXRQwgM28hgsJtE2I2jm2JW0Wq9a8nyzt6RZw4cthGrew6z83fvNSKCSxhjdoET4ADYA/az55wANzlOsuc18EtEHpzG58IAY8xnoA10gG/Axw1f9QgMgQFwISL39USYg4jUQmAHOAMugSdAauZT9u4zYKe2uGsS3wXGDkRXcQx01Q0AjoFRg8KLHAHHjRsAtIC+ovAi+0CrEQOAIyD1QHSRKXDk1ADgFJh6ILaKU+C0dgMAA/SAmQciV3GWxWpqMSATf+6BsNfyfB0T1jGg54GYTdl7kwHYb34bhn0VZ6yYE1bN9j5PeOtyygurQ5X4Fn4udZsypWKfUGWAT5ucuthfywDs9lY7WFd8tm0uM0Bzb++aoxcNwJ7qtIN0zW6pAdjzfJNHWi2Oyd0nJCzwAzjk/eMQqxVgyYDvzceihv9ajYjM7/BugQ96MTWKv8BXEbmfj4A24YgHq7UNi0+goxeLGjpgj7q7wB2bX11vKx6BLwk2aRGaeLCaTxJsxiZUHCQs0lMhYi/B5upCxX4cAQRugAF+A5+0I1HCn2T1b943EmwxQqi4iQYQDWCiHYUiJnEEYKuxQsV1PA6LrcMbakejgKGIPMw3QgPVUHQwgHgpai9FxVZgXunG1CiuMs1LeYGfSsFoYKE19NRYTI7G9HgskIglMrFIKpbJVZsQbqFkzoRwS2UzA8Iuls6ZEGa5fMmc4PPE6KZhomR1SD0QW2SK65aZnAnhNk0VjAizba7EiDAbJwsmbGXrbPDN004MWPoDz9vn/wFoczxjtZ8dQAAAAABJRU5ErkJggg=="],Ve=he.b.div(x||(x=Object(je.a)(["\n    max-width: 500px;\n    min-height: 400px;\n    width:90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n"]))),qe=he.b.div(w||(w=Object(je.a)(["\n    width: 100%;\n    height: 75%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),$e=he.b.div(m||(m=Object(je.a)(["\n    width: 100%;\n    min-height: 70px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n"]))),en=he.b.img(v||(v=Object(je.a)(["\n    width: 50px;\n    height: 50px;\n    margin: 20px;\n    ","\n"])),(function(e){return e.isPicked?"border: 2px dotted black;":""})),nn=he.b.div(E||(E=Object(je.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    margin: 20px;\n    background-color: ",";\n    ","\n"])),(function(e){return e.color}),(function(e){return e.isPicked?"padding:5px;":""})),tn=he.b.input(C||(C=Object(je.a)(["\n    width: 200px;\n    height: 10px;\n    margin: 20px;\n"]))),rn=B.a.memo((function(e){var n=e.handleColorPick,t=e.handleLineWidthPick,r=e.handleInstrumentPick,a=e.pickedInstrument,c=e.pickedColor;return Object(ye.jsxs)(Ve,{children:[Object(ye.jsx)("span",{children:"Colors:"}),Object(ye.jsx)(qe,{children:We.map((function(e){return Object(ye.jsx)(nn,{isPicked:e===c,id:e,onClick:n,color:e})}))}),Object(ye.jsx)("span",{children:"Tools:"}),Object(ye.jsx)($e,{children:Ze.map((function(e,n){return Object(ye.jsx)(en,{isPicked:n.toString()===a,src:e,id:n.toString(),onClick:r})}))}),Object(ye.jsx)("span",{children:"Thickness:"}),Object(ye.jsx)(tn,{defaultValue:1,min:1,max:20,step:1,type:"range",onChange:t})]})})),an=function(){var e=Object(I.useRef)(null),n=Object(I.useState)(),t=Object(we.a)(n,2),r=t[0],a=t[1],c=Object(I.useState)(!1),i=Object(we.a)(c,2),o=i[0],s=i[1],u=Object(I.useState)({offsetX:0,offsetY:0}),l=Object(we.a)(u,2),d=l[0],A=l[1],b=Object(I.useState)(),f=Object(we.a)(b,2),p=f[0],j=f[1],h=Object(I.useState)("black"),g=Object(we.a)(h,2),O=g[0],x=g[1],w=Object(I.useState)("0"),m=Object(we.a)(w,2),v=m[0],E=m[1],C=Object(I.useState)("1"),B=Object(we.a)(C,2),S=B[0],R=B[1],y=Object(xe.g)(),P=Object(k.b)(),T=Object(k.c)(Se),M=T.username,L=T.isLoggedIn,U=T.uid;Object(I.useEffect)((function(){L||y.push(Be.LOGIN)}),[L]),Object(I.useLayoutEffect)((function(){e&&e.current&&a(e.current.getContext("2d"))}),[]);var N=Object(I.useCallback)((function(){console.log(p),p&&(null===r||void 0===r||r.putImageData(p,0,0))}),[p]),G=function(n){var t=n.nativeEvent;if(t.preventDefault(),t instanceof TouchEvent){var r=t,a=r.touches[0],c=a.pageX,i=a.pageY;console.log(r.touches[0]),A({offsetX:c-e.current.offsetLeft,offsetY:i-e.current.offsetTop})}else{var o=t,u=o.offsetX,l=o.offsetY;A({offsetX:u,offsetY:l})}N(),s(!0)},F=function(n){var t=n.nativeEvent;if(o){var a;if(t instanceof TouchEvent){var c=t.touches[0],i=c.pageX,s=c.pageY;a={offsetX:i-e.current.offsetLeft,offsetY:s-e.current.offsetTop}}else{var u=t;a={offsetX:u.offsetX,offsetY:u.offsetY}}!function(n){var t=n.offsetX,a=n.offsetY,c=d.offsetX,i=d.offsetY;if(console.log(d,n),r){var o=c-t,s=i-a,u=Math.sqrt(o*o+s*s);switch(r.strokeStyle=O,r.lineCap="round",r.lineWidth=parseInt(S,10),r.beginPath(),v){case"0":r.moveTo(c,i),r.lineTo(t,a),A({offsetX:t,offsetY:a});break;case"1":r.clearRect(0,0,e.current.width,e.current.height),N(),r.moveTo(c,i),r.lineTo(t,a);break;case"2":r.clearRect(0,0,e.current.width,e.current.height),N(),r.rect(c,i,t-c,a-i);break;case"3":r.clearRect(0,0,e.current.width,e.current.height),N(),r.arc(c,i,u,0,2*Math.PI)}r.stroke()}}(a)}},Q=function(){s(!1),j(r.getImageData(0,0,e.current.width,e.current.height))},H=function(){var n=Object(D.a)(Y.a.mark((function n(){var t,r;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=null===(t=e.current)||void 0===t?void 0:t.toDataURL())&&(P(ne({img:r,uid:U,username:M})),y.push(Be.HOME));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),X=Object(I.useCallback)((function(e){R(e.target.value)}),[]),K=Object(I.useCallback)((function(e){E(e.currentTarget.id)}),[]),z=Object(I.useCallback)((function(e){x(e.currentTarget.id)}),[]);return Object(ye.jsxs)(_e,{children:[Object(ye.jsx)("span",{children:"Draw here"}),Object(ye.jsx)(ze,{ref:e,onMouseMove:F,onTouchStart:G,onTouchMove:F,onTouchEnd:Q,onMouseDown:G,onMouseLeave:Q,onMouseUp:Q,id:"canvas",width:window.outerWidth<500?.95*window.outerWidth:500,height:window.outerWidth<500?.95*window.outerWidth:500}),Object(ye.jsx)(rn,{pickedColor:O,pickedInstrument:v,handleLineWidthPick:X,handleColorPick:z,handleInstrumentPick:K}),Object(ye.jsxs)(Je,{children:[Object(ye.jsx)(De,{to:"/home",children:"Go back"}),Object(ye.jsx)(ve,{isDanger:!0,onClick:function(){r&&e&&e.current&&r.clearRect(0,0,e.current.width,e.current.height)},children:"Clear canvas"}),Object(ye.jsx)(ve,{onClick:H,children:"Save your drawing"})]})]})},cn=function(){return Object(ye.jsx)(Oe.a,{children:Object(ye.jsxs)(xe.d,{children:[Object(ye.jsx)(xe.a,{from:Be.ROOT,to:Be.HOME,exact:!0}),Object(ye.jsx)(xe.b,{path:Be.LOGIN,children:Object(ye.jsx)(Pe,{})}),Object(ye.jsx)(xe.b,{path:Be.REGISTER,children:Object(ye.jsx)(Ye,{})}),Object(ye.jsx)(xe.b,{path:Be.HOME,children:Object(ye.jsx)(Ke,{})}),Object(ye.jsx)(xe.b,{path:Be.PAINT,children:Object(ye.jsx)(an,{})})]})})};R.a.render(Object(ye.jsxs)(B.a.StrictMode,{children:[Object(ye.jsx)(ge,{}),Object(ye.jsx)(k.a,{store:pe,children:Object(ye.jsx)(cn,{})})]}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.83a0f719.chunk.js.map